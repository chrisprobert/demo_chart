<!DOCTYPE html>
<meta charset="utf-8">

<head>
<title>Metagenomics Report</title>

<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script>
//opentip code
var Opentip,firstAdapter,i,mouseMoved,mousePosition,mousePositionObservers,position,vendors,_i,_len,_ref,__slice=[].slice,__indexOf=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1},__hasProp={}.hasOwnProperty;for(Opentip=function(){function t(e,i,o,s){var n,r,a,h,p,l,d,u,c,g,f,m,v,_,w=this;if(this.id=++t.lastId,this.debug("Creating Opentip."),t.tips.push(this),this.adapter=t.adapter,n=this.adapter.data(e,"opentips")||[],n.push(this),this.adapter.data(e,"opentips",n),this.triggerElement=this.adapter.wrap(e),this.triggerElement.length>1)throw Error("You can't call Opentip on multiple elements.");if(1>this.triggerElement.length)throw Error("Invalid element.");this.loaded=!1,this.loading=!1,this.visible=!1,this.waitingToShow=!1,this.waitingToHide=!1,this.currentPosition={left:0,top:0},this.dimensions={width:100,height:50},this.content="",this.redraw=!0,this.currentObservers={showing:!1,visible:!1,hiding:!1,hidden:!1},s=this.adapter.clone(s),typeof i=="object"?(s=i,i=o=void 0):typeof o=="object"&&(s=o,o=void 0),o!=null&&(s.title=o),i!=null&&this.setContent(i),s["extends"]==null&&(s["extends"]=s.style!=null?s.style:t.defaultStyle),h=[s],_=s;while(_["extends"]){if(l=_["extends"],_=t.styles[l],_==null)throw Error("Invalid style: "+l);h.unshift(_),_["extends"]==null&&l!=="standard"&&(_["extends"]="standard")}for(s=(f=this.adapter).extend.apply(f,[{}].concat(__slice.call(h))),s.hideTriggers=function(){var t,e,i,o;for(i=s.hideTriggers,o=[],t=0,e=i.length;e>t;t++)r=i[t],o.push(r);return o}(),s.hideTrigger&&s.hideTriggers.length===0&&s.hideTriggers.push(s.hideTrigger),m=["tipJoint","targetJoint","stem"],d=0,c=m.length;c>d;d++)p=m[d],s[p]&&typeof s[p]=="string"&&(s[p]=new t.Joint(s[p]));for(!s.ajax||s.ajax!==!0&&s.ajax||(s.ajax=this.adapter.tagName(this.triggerElement)==="A"?this.adapter.attr(this.triggerElement,"href"):!1),s.showOn==="click"&&this.adapter.tagName(this.triggerElement)==="A"&&this.adapter.observe(this.triggerElement,"click",function(t){return t.preventDefault(),t.stopPropagation(),t.stopped=!0}),s.target&&(s.fixed=!0),s.stem===!0&&(s.stem=new t.Joint(s.tipJoint)),s.target===!0?s.target=this.triggerElement:s.target&&(s.target=this.adapter.wrap(s.target)),this.currentStem=s.stem,s.delay==null&&(s.delay=s.showOn==="mouseover"?.2:0),s.targetJoint==null&&(s.targetJoint=new t.Joint(s.tipJoint).flip()),this.showTriggers=[],this.showTriggersWhenVisible=[],this.hideTriggers=[],s.showOn&&s.showOn!=="creation"&&this.showTriggers.push({element:this.triggerElement,event:s.showOn}),s.ajaxCache!=null&&(s.cache=s.ajaxCache,delete s.ajaxCache),this.options=s,this.bound={},v=["prepareToShow","prepareToHide","show","hide","reposition"],u=0,g=v.length;g>u;u++)a=v[u],this.bound[a]=function(t){return function(){return w[t].apply(w,arguments)}}(a);this.adapter.domReady(function(){return w.activate(),w.options.showOn==="creation"?w.prepareToShow():void 0})}return t.prototype.STICKS_OUT_TOP=1,t.prototype.STICKS_OUT_BOTTOM=2,t.prototype.STICKS_OUT_LEFT=1,t.prototype.STICKS_OUT_RIGHT=2,t.prototype["class"]={container:"opentip-container",opentip:"opentip",header:"ot-header",content:"ot-content",loadingIndicator:"ot-loading-indicator",close:"ot-close",goingToHide:"ot-going-to-hide",hidden:"ot-hidden",hiding:"ot-hiding",goingToShow:"ot-going-to-show",showing:"ot-showing",visible:"ot-visible",loading:"ot-loading",ajaxError:"ot-ajax-error",fixed:"ot-fixed",showEffectPrefix:"ot-show-effect-",hideEffectPrefix:"ot-hide-effect-",stylePrefix:"style-"},t.prototype._setup=function(){var t,e,i,o,s,n,r,a,h,p,l;for(this.debug("Setting up the tooltip."),this._buildContainer(),this.hideTriggers=[],h=this.options.hideTriggers,o=s=0,r=h.length;r>s;o=++s){if(e=h[o],i=null,t=this.options.hideOn instanceof Array?this.options.hideOn[o]:this.options.hideOn,typeof e=="string")switch(e){case"trigger":t=t||"mouseout",i=this.triggerElement;break;case"tip":t=t||"mouseover",i=this.container;break;case"target":t=t||"mouseover",i=this.options.target;break;case"closeButton":break;default:throw Error("Unknown hide trigger: "+e+".")}else t=t||"mouseover",i=this.adapter.wrap(e);i&&this.hideTriggers.push({element:i,event:t,original:e})}for(p=this.hideTriggers,l=[],n=0,a=p.length;a>n;n++)e=p[n],l.push(this.showTriggersWhenVisible.push({element:e.element,event:"mouseover"}));return l},t.prototype._buildContainer=function(){return this.container=this.adapter.create('<div id="opentip-'+this.id+'" class="'+this["class"].container+" "+this["class"].hidden+" "+this["class"].stylePrefix+this.options.className+'"></div>'),this.adapter.css(this.container,{position:"absolute"}),this.options.ajax&&this.adapter.addClass(this.container,this["class"].loading),this.options.fixed&&this.adapter.addClass(this.container,this["class"].fixed),this.options.showEffect&&this.adapter.addClass(this.container,""+this["class"].showEffectPrefix+this.options.showEffect),this.options.hideEffect?this.adapter.addClass(this.container,""+this["class"].hideEffectPrefix+this.options.hideEffect):void 0},t.prototype._buildElements=function(){var t,e;return this.tooltipElement=this.adapter.create('<div class="'+this["class"].opentip+'"><div class="'+this["class"].header+'"></div><div class="'+this["class"].content+'"></div></div>'),this.backgroundCanvas=this.adapter.wrap(document.createElement("canvas")),this.adapter.css(this.backgroundCanvas,{position:"absolute"}),typeof G_vmlCanvasManager!="undefined"&&G_vmlCanvasManager!==null&&G_vmlCanvasManager.initElement(this.adapter.unwrap(this.backgroundCanvas)),t=this.adapter.find(this.tooltipElement,"."+this["class"].header),this.options.title&&(e=this.adapter.create("<h1></h1>"),this.adapter.update(e,this.options.title,this.options.escapeTitle),this.adapter.append(t,e)),this.options.ajax&&!this.loaded&&this.adapter.append(this.tooltipElement,this.adapter.create('<div class="'+this["class"].loadingIndicator+'"><span>â†»</span></div>')),__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(this.closeButtonElement=this.adapter.create('<a href="javascript:undefined;" class="'+this["class"].close+'"><span>Close</span></a>'),this.adapter.append(t,this.closeButtonElement)),this.adapter.append(this.container,this.backgroundCanvas),this.adapter.append(this.container,this.tooltipElement),this.adapter.append(document.body,this.container),this._newContent=!0,this.redraw=!0},t.prototype.setContent=function(t){return this.content=t,this._newContent=!0,typeof this.content=="function"?(this._contentFunction=this.content,this.content=""):this._contentFunction=null,this.visible?this._updateElementContent():void 0},t.prototype._updateElementContent=function(){var t;return(this._newContent||!this.options.cache&&this._contentFunction)&&(t=this.adapter.find(this.container,"."+this["class"].content),t!=null&&(this._contentFunction&&(this.debug("Executing content function."),this.content=this._contentFunction(this)),this.adapter.update(t,this.content,this.options.escapeContent)),this._newContent=!1),this._storeAndLockDimensions(),this.reposition()},t.prototype._storeAndLockDimensions=function(){var t;if(this.container)return t=this.dimensions,this.adapter.css(this.container,{width:"auto",left:"0px",top:"0px"}),this.dimensions=this.adapter.dimensions(this.container),this.dimensions.width+=1,this.adapter.css(this.container,{width:""+this.dimensions.width+"px",top:""+this.currentPosition.top+"px",left:""+this.currentPosition.left+"px"}),this._dimensionsEqual(this.dimensions,t)?void 0:(this.redraw=!0,this._draw())},t.prototype.activate=function(){return this._setupObservers("hidden","hiding")},t.prototype.deactivate=function(){return this.debug("Deactivating tooltip."),this.hide(),this._setupObservers("-showing","-visible","-hidden","-hiding")},t.prototype._setupObservers=function(){var t,e,i,o,s,n,r,a,h,p,l,d,u,c,g,f,m=this;for(o=arguments.length>=1?__slice.call(arguments,0):[],n=0,p=o.length;p>n;n++)if(i=o[n],e=!1,i.charAt(0)==="-"&&(e=!0,i=i.substr(1)),this.currentObservers[i]!==!e)switch(this.currentObservers[i]=!e,t=function(){var t,i,o;return t=arguments.length>=1?__slice.call(arguments,0):[],e?(i=m.adapter).stopObserving.apply(i,t):(o=m.adapter).observe.apply(o,t)},i){case"showing":for(c=this.hideTriggers,r=0,l=c.length;l>r;r++)s=c[r],t(s.element,s.event,this.bound.prepareToHide);t(document.onresize!=null?document:window,"resize",this.bound.reposition),t(window,"scroll",this.bound.reposition);break;case"visible":for(g=this.showTriggersWhenVisible,a=0,d=g.length;d>a;a++)s=g[a],t(s.element,s.event,this.bound.prepareToShow);break;case"hiding":for(f=this.showTriggers,h=0,u=f.length;u>h;h++)s=f[h],t(s.element,s.event,this.bound.prepareToShow);break;case"hidden":break;default:throw Error("Unknown state: "+i)}return null},t.prototype.prepareToShow=function(){return this._abortHiding(),this._abortShowing(),this.visible?void 0:(this.debug("Showing in "+this.options.delay+"s."),this.container==null&&this._setup(),this.options.group&&t._abortShowingGroup(this.options.group,this),this.preparingToShow=!0,this._setupObservers("-hidden","-hiding","showing"),this._followMousePosition(),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this._showTimeoutId=this.setTimeout(this.bound.show,this.options.delay||0))},t.prototype.show=function(){var e=this;return this._abortHiding(),this.visible?void 0:(this._clearTimeouts(),this._triggerElementExists()?(this.debug("Showing now."),this.container==null&&this._setup(),this.options.group&&t._hideGroup(this.options.group,this),this.visible=!0,this.preparingToShow=!1,this.tooltipElement==null&&this._buildElements(),this._updateElementContent(),!this.options.ajax||this.loaded&&this.options.cache||this._loadAjax(),this._searchAndActivateCloseButtons(),this._startEnsureTriggerElement(),this.adapter.css(this.container,{zIndex:t.lastZIndex++}),this._setupObservers("-hidden","-hiding","-showing","-visible","showing","visible"),this.options.fixed&&!this.options.target&&(this.initialMousePosition=mousePosition),this.reposition(),this.adapter.removeClass(this.container,this["class"].hiding),this.adapter.removeClass(this.container,this["class"].hidden),this.adapter.addClass(this.container,this["class"].goingToShow),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var t;if(e.visible&&!e.preparingToHide)return e.adapter.removeClass(e.container,e["class"].goingToShow),e.adapter.addClass(e.container,e["class"].showing),t=0,e.options.showEffect&&e.options.showEffectDuration&&(t=e.options.showEffectDuration),e.setCss3Style(e.container,{transitionDuration:""+t+"s"}),e._visibilityStateTimeoutId=e.setTimeout(function(){return e.adapter.removeClass(e.container,e["class"].showing),e.adapter.addClass(e.container,e["class"].visible)},t),e._activateFirstInput()}),this._draw()):this.deactivate())},t.prototype._abortShowing=function(){return this.preparingToShow?(this.debug("Aborting showing."),this._clearTimeouts(),this._stopFollowingMousePosition(),this.preparingToShow=!1,this._setupObservers("-showing","-visible","hiding","hidden")):void 0},t.prototype.prepareToHide=function(){return this._abortShowing(),this._abortHiding(),this.visible?(this.debug("Hiding in "+this.options.hideDelay+"s"),this.preparingToHide=!0,this._setupObservers("-showing","visible","-hidden","hiding"),this._hideTimeoutId=this.setTimeout(this.bound.hide,this.options.hideDelay)):void 0},t.prototype.hide=function(){var t=this;return this._abortShowing(),this.visible&&(this._clearTimeouts(),this.debug("Hiding!"),this.visible=!1,this.preparingToHide=!1,this._stopEnsureTriggerElement(),this._setupObservers("-showing","-visible","-hiding","-hidden","hiding","hidden"),this.options.fixed||this._stopFollowingMousePosition(),this.container)?(this.adapter.removeClass(this.container,this["class"].visible),this.adapter.removeClass(this.container,this["class"].showing),this.adapter.addClass(this.container,this["class"].goingToHide),this.setCss3Style(this.container,{transitionDuration:"0s"}),this.defer(function(){var e;return t.adapter.removeClass(t.container,t["class"].goingToHide),t.adapter.addClass(t.container,t["class"].hiding),e=0,t.options.hideEffect&&t.options.hideEffectDuration&&(e=t.options.hideEffectDuration),t.setCss3Style(t.container,{transitionDuration:""+e+"s"}),t._visibilityStateTimeoutId=t.setTimeout(function(){return t.adapter.removeClass(t.container,t["class"].hiding),t.adapter.addClass(t.container,t["class"].hidden),t.setCss3Style(t.container,{transitionDuration:"0s"}),t.options.removeElementsOnHide?(t.debug("Removing HTML elements."),t.adapter.remove(t.container),delete t.container,delete t.tooltipElement):void 0},e)})):void 0},t.prototype._abortHiding=function(){return this.preparingToHide?(this.debug("Aborting hiding."),this._clearTimeouts(),this.preparingToHide=!1,this._setupObservers("-hiding","showing","visible")):void 0},t.prototype.reposition=function(){var t,e,i,o=this;return t=this.getPosition(),t==null||(e=this.options.stem,this.options.containInViewport&&(i=this._ensureViewportContainment(t),t=i.position,e=i.stem),this._positionsEqual(t,this.currentPosition))?void 0:(this.options.stem&&!e.eql(this.currentStem)&&(this.redraw=!0),this.currentPosition=t,this.currentStem=e,this._draw(),this.adapter.css(this.container,{left:""+t.left+"px",top:""+t.top+"px"}),this.defer(function(){var t,e;return t=o.adapter.unwrap(o.container),t.style.visibility="hidden",e=t.offsetHeight,t.style.visibility="visible"}))},t.prototype.getPosition=function(t,e,i){var o,s,n,r,a,h,p,l,d;if(this.container)return t==null&&(t=this.options.tipJoint),e==null&&(e=this.options.targetJoint),r={},this.options.target?(p=this.adapter.offset(this.options.target),h=this.adapter.dimensions(this.options.target),r=p,e.right?(l=this.adapter.unwrap(this.options.target),l.getBoundingClientRect!=null?r.left=l.getBoundingClientRect().right+((d=window.pageXOffset)!=null?d:document.body.scrollLeft):r.left+=h.width):e.center&&(r.left+=Math.round(h.width/2)),e.bottom?r.top+=h.height:e.middle&&(r.top+=Math.round(h.height/2)),this.options.borderWidth&&(this.options.tipJoint.left&&(r.left+=this.options.borderWidth),this.options.tipJoint.right&&(r.left-=this.options.borderWidth),this.options.tipJoint.top?r.top+=this.options.borderWidth:this.options.tipJoint.bottom&&(r.top-=this.options.borderWidth))):r=this.initialMousePosition?{top:this.initialMousePosition.y,left:this.initialMousePosition.x}:{top:mousePosition.y,left:mousePosition.x},this.options.autoOffset&&(a=this.options.stem?this.options.stemLength:0,n=a&&this.options.fixed?2:10,o=t.middle&&!this.options.fixed?15:0,s=t.center&&!this.options.fixed?15:0,t.right?r.left-=n+o:t.left&&(r.left+=n+o),t.bottom?r.top-=n+s:t.top&&(r.top+=n+s),a&&(i==null&&(i=this.options.stem),i.right?r.left-=a:i.left&&(r.left+=a),i.bottom?r.top-=a:i.top&&(r.top+=a))),r.left+=this.options.offset[0],r.top+=this.options.offset[1],t.right?r.left-=this.dimensions.width:t.center&&(r.left-=Math.round(this.dimensions.width/2)),t.bottom?r.top-=this.dimensions.height:t.middle&&(r.top-=Math.round(this.dimensions.height/2)),r},t.prototype._ensureViewportContainment=function(e){var i,o,s,n,r,a,h,p,l,d,u,c;if(h=this.options.stem,s={position:e,stem:h},!this.visible||!e)return s;if(p=this._sticksOut(e),!p[0]&&!p[1])return s;if(d=new t.Joint(this.options.tipJoint),this.options.targetJoint&&(l=new t.Joint(this.options.targetJoint)),a=this.adapter.scrollOffset(),u=this.adapter.viewportDimensions(),c=[e.left-a[0],e.top-a[1]],i=!1,u.width>=this.dimensions.width&&p[0])switch(i=!0,p[0]){case this.STICKS_OUT_LEFT:d.setHorizontal("left"),this.options.targetJoint&&l.setHorizontal("right");break;case this.STICKS_OUT_RIGHT:d.setHorizontal("right"),this.options.targetJoint&&l.setHorizontal("left")}if(u.height>=this.dimensions.height&&p[1])switch(i=!0,p[1]){case this.STICKS_OUT_TOP:d.setVertical("top"),this.options.targetJoint&&l.setVertical("bottom");break;case this.STICKS_OUT_BOTTOM:d.setVertical("bottom"),this.options.targetJoint&&l.setVertical("top")}return i?(this.options.stem&&(h=d),e=this.getPosition(d,l,h),o=this._sticksOut(e),n=!1,r=!1,o[0]&&o[0]!==p[0]&&(n=!0,d.setHorizontal(this.options.tipJoint.horizontal),this.options.targetJoint&&l.setHorizontal(this.options.targetJoint.horizontal)),o[1]&&o[1]!==p[1]&&(r=!0,d.setVertical(this.options.tipJoint.vertical),this.options.targetJoint&&l.setVertical(this.options.targetJoint.vertical)),n&&r?s:((n||r)&&(this.options.stem&&(h=d),e=this.getPosition(d,l,h)),{position:e,stem:h})):s},t.prototype._sticksOut=function(t){var e,i,o,s;return i=this.adapter.scrollOffset(),s=this.adapter.viewportDimensions(),e=[t.left-i[0],t.top-i[1]],o=[!1,!1],0>e[0]?o[0]=this.STICKS_OUT_LEFT:e[0]+this.dimensions.width>s.width&&(o[0]=this.STICKS_OUT_RIGHT),0>e[1]?o[1]=this.STICKS_OUT_TOP:e[1]+this.dimensions.height>s.height&&(o[1]=this.STICKS_OUT_BOTTOM),o},t.prototype._draw=function(){var e,i,o,s,n,r,a,h,p,l,d,u,c,g,f,m,v,_,w,b=this;if(this.backgroundCanvas&&this.redraw){if(this.debug("Drawing background."),this.redraw=!1,this.currentStem){for(v=["top","right","bottom","left"],f=0,m=v.length;m>f;f++)u=v[f],this.adapter.removeClass(this.container,"stem-"+u);this.adapter.addClass(this.container,"stem-"+this.currentStem.horizontal),this.adapter.addClass(this.container,"stem-"+this.currentStem.vertical)}return r=[0,0],a=[0,0],__indexOf.call(this.options.hideTriggers,"closeButton")>=0&&(n=new t.Joint(((_=this.currentStem)!=null?_+"":void 0)==="top right"?"top left":"top right"),r=[this.options.closeButtonRadius+this.options.closeButtonOffset[0],this.options.closeButtonRadius+this.options.closeButtonOffset[1]],a=[this.options.closeButtonRadius-this.options.closeButtonOffset[0],this.options.closeButtonRadius-this.options.closeButtonOffset[1]]),o=this.adapter.clone(this.dimensions),s=[0,0],this.options.borderWidth&&(o.width+=this.options.borderWidth*2,o.height+=this.options.borderWidth*2,s[0]-=this.options.borderWidth,s[1]-=this.options.borderWidth),this.options.shadow&&(o.width+=this.options.shadowBlur*2,o.width+=Math.max(0,this.options.shadowOffset[0]-this.options.shadowBlur*2),o.height+=this.options.shadowBlur*2,o.height+=Math.max(0,this.options.shadowOffset[1]-this.options.shadowBlur*2),s[0]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[0]),s[1]-=Math.max(0,this.options.shadowBlur-this.options.shadowOffset[1])),i={left:0,right:0,top:0,bottom:0},this.currentStem&&(this.currentStem.left?i.left=this.options.stemLength:this.currentStem.right&&(i.right=this.options.stemLength),this.currentStem.top?i.top=this.options.stemLength:this.currentStem.bottom&&(i.bottom=this.options.stemLength)),n&&(n.left?i.left=Math.max(i.left,a[0]):n.right&&(i.right=Math.max(i.right,a[0])),n.top?i.top=Math.max(i.top,a[1]):n.bottom&&(i.bottom=Math.max(i.bottom,a[1]))),o.width+=i.left+i.right,o.height+=i.top+i.bottom,s[0]-=i.left,s[1]-=i.top,this.currentStem&&this.options.borderWidth&&(w=this._getPathStemMeasures(this.options.stemBase,this.options.stemLength,this.options.borderWidth),g=w.stemLength,c=w.stemBase),e=this.adapter.unwrap(this.backgroundCanvas),e.width=o.width,e.height=o.height,this.adapter.css(this.backgroundCanvas,{width:""+e.width+"px",height:""+e.height+"px",left:""+s[0]+"px",top:""+s[1]+"px"}),h=e.getContext("2d"),h.setTransform(1,0,0,1,0,0),h.clearRect(0,0,e.width,e.height),h.beginPath(),h.fillStyle=this._getColor(h,this.dimensions,this.options.background,this.options.backgroundGradientHorizontal),h.lineJoin="miter",h.miterLimit=500,d=this.options.borderWidth/2,this.options.borderWidth?(h.strokeStyle=this.options.borderColor,h.lineWidth=this.options.borderWidth):(g=this.options.stemLength,c=this.options.stemBase),c==null&&(c=0),l=function(t,e,i){return i&&h.moveTo(Math.max(c,b.options.borderRadius,r[0])+1-d,-d),e?(h.lineTo(t/2-c/2,-d),h.lineTo(t/2,-g-d),h.lineTo(t/2+c/2,-d)):void 0},p=function(t,e,i){var o,s,n,a;return t?(h.lineTo(-c+d,0-d),h.lineTo(g+d,-g-d),h.lineTo(d,c-d)):e?(a=b.options.closeButtonOffset,n=r[0],i%2!==0&&(a=[a[1],a[0]],n=r[1]),o=Math.acos(a[1]/b.options.closeButtonRadius),s=Math.acos(a[0]/b.options.closeButtonRadius),h.lineTo(-n+d,-d),h.arc(d-a[0],-d+a[1],b.options.closeButtonRadius,-(Math.PI/2+o),s,!1)):(h.lineTo(-b.options.borderRadius+d,-d),h.quadraticCurveTo(d,-d,d,b.options.borderRadius-d))},h.translate(-s[0],-s[1]),h.save(),function(){var e,i,o,s,r,a,d,u,c,g,f;for(f=[],i=c=0,g=t.positions.length/2;g>=0?g>c:c>g;i=g>=0?++c:--c)r=i*2,a=i===0||i===3?0:b.dimensions.width,d=2>i?0:b.dimensions.height,u=Math.PI/2*i,o=i%2===0?b.dimensions.width:b.dimensions.height,s=new t.Joint(t.positions[r]),e=new t.Joint(t.positions[r+1]),h.save(),h.translate(a,d),h.rotate(u),l(o,s.eql(b.currentStem),i===0),h.translate(o,0),p(e.eql(b.currentStem),e.eql(n),i),f.push(h.restore());return f}(),h.closePath(),h.save(),this.options.shadow&&(h.shadowColor=this.options.shadowColor,h.shadowBlur=this.options.shadowBlur,h.shadowOffsetX=this.options.shadowOffset[0],h.shadowOffsetY=this.options.shadowOffset[1]),h.fill(),h.restore(),this.options.borderWidth&&h.stroke(),h.restore(),n?function(){var t,e,i,o,s;return i=e=b.options.closeButtonRadius*2,n+""=="top right"?(s=[b.dimensions.width-b.options.closeButtonOffset[0],b.options.closeButtonOffset[1]],t=[s[0]+d,s[1]-d]):(s=[b.options.closeButtonOffset[0],b.options.closeButtonOffset[1]],t=[s[0]-d,s[1]-d]),h.translate(t[0],t[1]),o=b.options.closeButtonCrossSize/2,h.save(),h.beginPath(),h.strokeStyle=b.options.closeButtonCrossColor,h.lineWidth=b.options.closeButtonCrossLineWidth,h.lineCap="round",h.moveTo(-o,-o),h.lineTo(o,o),h.stroke(),h.beginPath(),h.moveTo(o,-o),h.lineTo(-o,o),h.stroke(),h.restore(),b.adapter.css(b.closeButtonElement,{left:""+(s[0]-o-b.options.closeButtonLinkOverscan)+"px",top:""+(s[1]-o-b.options.closeButtonLinkOverscan)+"px",width:""+(b.options.closeButtonCrossSize+b.options.closeButtonLinkOverscan*2)+"px",height:""+(b.options.closeButtonCrossSize+b.options.closeButtonLinkOverscan*2)+"px"})}():void 0}},t.prototype._getPathStemMeasures=function(t,e,i){var o,s,n,r,a,h,p;if(r=i/2,n=Math.atan(t/2/e),o=n*2,a=r/Math.sin(o),s=2*a*Math.cos(n),p=r+e-s,0>p)throw Error("Sorry but your stemLength / stemBase ratio is strange.");return h=Math.tan(n)*p*2,{stemLength:p,stemBase:h}},t.prototype._getColor=function(t,e,i,o){var s,n,r,a,h;if(o==null&&(o=!1),typeof i=="string")return i;for(n=o?t.createLinearGradient(0,0,e.width,0):t.createLinearGradient(0,0,0,e.height),r=a=0,h=i.length;h>a;r=++a)s=i[r],n.addColorStop(s[0],s[1]);return n},t.prototype._searchAndActivateCloseButtons=function(){var t,e,i,o;for(o=this.adapter.findAll(this.container,"."+this["class"].close),e=0,i=o.length;i>e;e++)t=o[e],this.hideTriggers.push({element:this.adapter.wrap(t),event:"click"});return this.currentObservers.showing&&this._setupObservers("-showing","showing"),this.currentObservers.visible?this._setupObservers("-visible","visible"):void 0},t.prototype._activateFirstInput=function(){var t;return t=this.adapter.unwrap(this.adapter.find(this.container,"input, textarea")),t!=null?typeof t.focus=="function"?t.focus():void 0:void 0},t.prototype._followMousePosition=function(){return this.options.fixed?void 0:t._observeMousePosition(this.bound.reposition)},t.prototype._stopFollowingMousePosition=function(){return this.options.fixed?void 0:t._stopObservingMousePosition(this.bound.reposition)},t.prototype._clearShowTimeout=function(){return clearTimeout(this._showTimeoutId)},t.prototype._clearHideTimeout=function(){return clearTimeout(this._hideTimeoutId)},t.prototype._clearTimeouts=function(){return clearTimeout(this._visibilityStateTimeoutId),this._clearShowTimeout(),this._clearHideTimeout()},t.prototype._triggerElementExists=function(){var t;t=this.adapter.unwrap(this.triggerElement);while(t.parentNode){if(t.parentNode.tagName==="BODY")return!0;t=t.parentNode}return!1},t.prototype._loadAjax=function(){var t=this;if(!this.loading)return this.loaded=!1,this.loading=!0,this.adapter.addClass(this.container,this["class"].loading),this.setContent(""),this.debug("Loading content from "+this.options.ajax),this.adapter.ajax({url:this.options.ajax,method:this.options.ajaxMethod,onSuccess:function(e){return t.debug("Loading successful."),t.adapter.removeClass(t.container,t["class"].loading),t.setContent(e)},onError:function(e){var i;return i=t.options.ajaxErrorMessage,t.debug(i,e),t.setContent(i),t.adapter.addClass(t.container,t["class"].ajaxError)},onComplete:function(){return t.adapter.removeClass(t.container,t["class"].loading),t.loading=!1,t.loaded=!0,t._searchAndActivateCloseButtons(),t._activateFirstInput(),t.reposition()}})},t.prototype._ensureTriggerElement=function(){return this._triggerElementExists()?void 0:(this.deactivate(),this._stopEnsureTriggerElement())},t.prototype._ensureTriggerElementInterval=1e3,t.prototype._startEnsureTriggerElement=function(){var t=this;return this._ensureTriggerElementTimeoutId=setInterval(function(){return t._ensureTriggerElement()},this._ensureTriggerElementInterval)},t.prototype._stopEnsureTriggerElement=function(){return clearInterval(this._ensureTriggerElementTimeoutId)},t}(),vendors=["khtml","ms","o","moz","webkit"],Opentip.prototype.setCss3Style=function(t,e){var i,o,s,n,r;t=this.adapter.unwrap(t),r=[];for(i in e)__hasProp.call(e,i)&&(o=e[i],t.style[i]!=null?r.push(t.style[i]=o):r.push(function(){var e,r,a;for(a=[],e=0,r=vendors.length;r>e;e++)s=vendors[e],n=""+this.ucfirst(s)+this.ucfirst(i),t.style[n]!=null?a.push(t.style[n]=o):a.push(void 0);return a}.call(this)));return r},Opentip.prototype.defer=function(t){return setTimeout(t,0)},Opentip.prototype.setTimeout=function(t,e){return setTimeout(t,e?e*1e3:0)},Opentip.prototype.ucfirst=function(t){return t==null?"":t.charAt(0).toUpperCase()+t.slice(1)},Opentip.prototype.dasherize=function(t){return t.replace(/([A-Z])/g,function(t,e){return"-"+e.toLowerCase()})},mousePositionObservers=[],mousePosition={x:0,y:0},mouseMoved=function(t){var e,i,o,s;for(mousePosition=Opentip.adapter.mousePosition(t),s=[],i=0,o=mousePositionObservers.length;o>i;i++)e=mousePositionObservers[i],s.push(e());return s},Opentip.followMousePosition=function(){return Opentip.adapter.observe(document.body,"mousemove",mouseMoved)},Opentip._observeMousePosition=function(t){return mousePositionObservers.push(t)},Opentip._stopObservingMousePosition=function(t){var e;return mousePositionObservers=function(){var i,o,s;for(s=[],i=0,o=mousePositionObservers.length;o>i;i++)e=mousePositionObservers[i],e!==t&&s.push(e);return s}()},Opentip.Joint=function(){function t(t){t!=null&&(t instanceof Opentip.Joint&&(t+=""),this.set(t))}return t.prototype.set=function(t){return t=t.toLowerCase(),this.setHorizontal(t),this.setVertical(t),this},t.prototype.setHorizontal=function(t){var e,i,o,s,n,r,a;for(i=["left","center","right"],o=0,n=i.length;n>o;o++)e=i[o],~t.indexOf(e)&&(this.horizontal=e.toLowerCase());for(this.horizontal==null&&(this.horizontal="center"),a=[],s=0,r=i.length;r>s;s++)e=i[s],a.push(this[e]=this.horizontal===e?e:void 0);return a},t.prototype.setVertical=function(t){var e,i,o,s,n,r,a;for(i=["top","middle","bottom"],o=0,n=i.length;n>o;o++)e=i[o],~t.indexOf(e)&&(this.vertical=e.toLowerCase());for(this.vertical==null&&(this.vertical="middle"),a=[],s=0,r=i.length;r>s;s++)e=i[s],a.push(this[e]=this.vertical===e?e:void 0);return a},t.prototype.eql=function(t){return t!=null&&this.horizontal===t.horizontal&&this.vertical===t.vertical},t.prototype.flip=function(){var t,e;return e=Opentip.position[this.toString(!0)],t=(e+4)%8,this.set(Opentip.positions[t]),this},t.prototype.toString=function(t){var e,i;return t==null&&(t=!1),i=this.vertical==="middle"?"":this.vertical,e=this.horizontal==="center"?"":this.horizontal,i&&e&&(e=t?Opentip.prototype.ucfirst(e):" "+e),""+i+e},t}(),Opentip.prototype._positionsEqual=function(t,e){return t!=null&&e!=null&&t.left===e.left&&t.top===e.top},Opentip.prototype._dimensionsEqual=function(t,e){return t!=null&&e!=null&&t.width===e.width&&t.height===e.height},Opentip.prototype.debug=function(){var t;return t=arguments.length>=1?__slice.call(arguments,0):[],Opentip.debug&&(typeof console!="undefined"&&console!==null?console.debug:void 0)!=null?(t.unshift("#"+this.id+" |"),console.debug.apply(console,t)):void 0},Opentip.findElements=function(){var t,e,i,o,s,n,r,a,h,p;for(t=Opentip.adapter,h=t.findAll(document.body,"[data-ot]"),p=[],r=0,a=h.length;a>r;r++){i=h[r],n={},e=t.data(i,"ot"),(e===""||e==="true"||e==="yes")&&(e=t.attr(i,"title"),t.attr(i,"title","")),e=e||"";for(o in Opentip.styles.standard)s=t.data(i,"ot"+Opentip.prototype.ucfirst(o)),s!=null&&(s==="yes"||s==="true"||s==="on"?s=!0:(s==="no"||s==="false"||s==="off")&&(s=!1),n[o]=s);p.push(new Opentip(i,e,n))}return p},Opentip.version="2.4.6",Opentip.debug=!1,Opentip.lastId=0,Opentip.lastZIndex=100,Opentip.tips=[],Opentip._abortShowingGroup=function(t,e){var i,o,s,n,r;for(n=Opentip.tips,r=[],o=0,s=n.length;s>o;o++)i=n[o],i!==e&&i.options.group===t?r.push(i._abortShowing()):r.push(void 0);return r},Opentip._hideGroup=function(t,e){var i,o,s,n,r;for(n=Opentip.tips,r=[],o=0,s=n.length;s>o;o++)i=n[o],i!==e&&i.options.group===t?r.push(i.hide()):r.push(void 0);return r},Opentip.adapters={},Opentip.adapter=null,firstAdapter=!0,Opentip.addAdapter=function(t){return Opentip.adapters[t.name]=t,firstAdapter?(Opentip.adapter=t,t.domReady(Opentip.findElements),t.domReady(Opentip.followMousePosition),firstAdapter=!1):void 0},Opentip.positions=["top","topRight","right","bottomRight","bottom","bottomLeft","left","topLeft"],Opentip.position={},_ref=Opentip.positions,i=_i=0,_len=_ref.length;_len>_i;i=++_i)position=_ref[i],Opentip.position[position]=i;Opentip.styles={standard:{"extends":null,title:void 0,escapeTitle:!0,escapeContent:!1,className:"standard",stem:!0,delay:null,hideDelay:.1,fixed:!1,showOn:"mouseover",hideTrigger:"trigger",hideTriggers:[],hideOn:null,removeElementsOnHide:!1,offset:[0,0],containInViewport:!0,autoOffset:!0,showEffect:"appear",hideEffect:"fade",showEffectDuration:.3,hideEffectDuration:.2,stemLength:5,stemBase:8,tipJoint:"top left",target:null,targetJoint:null,cache:!0,ajax:!1,ajaxMethod:"GET",ajaxErrorMessage:"There was a problem downloading the content.",group:null,style:null,background:"#fff18f",backgroundGradientHorizontal:!1,closeButtonOffset:[5,5],closeButtonRadius:7,closeButtonCrossSize:4,closeButtonCrossColor:"#d2c35b",closeButtonCrossLineWidth:1.5,closeButtonLinkOverscan:6,borderRadius:5,borderWidth:1,borderColor:"#f2e37b",shadow:!0,shadowBlur:10,shadowOffset:[3,3],shadowColor:"rgba(0, 0, 0, 0.1)"},glass:{"extends":"standard",className:"glass",background:[[0,"rgba(252, 252, 252, 0.8)"],[.5,"rgba(255, 255, 255, 0.8)"],[.5,"rgba(250, 250, 250, 0.9)"],[1,"rgba(245, 245, 245, 0.9)"]],borderColor:"#eee",closeButtonCrossColor:"rgba(0, 0, 0, 0.2)",borderRadius:15,closeButtonRadius:10,closeButtonOffset:[8,8]},dark:{"extends":"standard",className:"dark",borderRadius:13,borderColor:"#444",closeButtonCrossColor:"rgba(240, 240, 240, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(30, 30, 30, 0.7)"],[.5,"rgba(30, 30, 30, 0.8)"],[.5,"rgba(10, 10, 10, 0.8)"],[1,"rgba(10, 10, 10, 0.9)"]]},alert:{"extends":"standard",className:"alert",borderRadius:1,borderColor:"#AE0D11",closeButtonCrossColor:"rgba(255, 255, 255, 1)",shadowColor:"rgba(0, 0, 0, 0.3)",shadowOffset:[2,2],background:[[0,"rgba(203, 15, 19, 0.7)"],[.5,"rgba(203, 15, 19, 0.8)"],[.5,"rgba(189, 14, 18, 0.8)"],[1,"rgba(179, 14, 17, 0.9)"]]}},Opentip.defaultStyle="standard",typeof module!="undefined"&&module!==null?module.exports=Opentip:window.Opentip=Opentip;var __slice=[].slice;(function(t){var e;return t.fn.opentip=function(t,e,i){return new Opentip(this,t,e,i)},e=function(){function e(){}return e.prototype.name="jquery",e.prototype.domReady=function(e){return t(e)},e.prototype.create=function(e){return t(e)},e.prototype.wrap=function(e){if(e=t(e),e.length>1)throw Error("Multiple elements provided.");return e},e.prototype.unwrap=function(e){return t(e)[0]
},e.prototype.tagName=function(t){return this.unwrap(t).tagName},e.prototype.attr=function(){var e,i,o;return i=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],(o=t(i)).attr.apply(o,e)},e.prototype.data=function(){var e,i,o;return i=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],(o=t(i)).data.apply(o,e)},e.prototype.find=function(e,i){return t(e).find(i).get(0)},e.prototype.findAll=function(e,i){return t(e).find(i)},e.prototype.update=function(e,i,o){return e=t(e),o?e.text(i):e.html(i)},e.prototype.append=function(e,i){return t(e).append(i)},e.prototype.remove=function(e){return t(e).remove()},e.prototype.addClass=function(e,i){return t(e).addClass(i)},e.prototype.removeClass=function(e,i){return t(e).removeClass(i)},e.prototype.css=function(e,i){return t(e).css(i)},e.prototype.dimensions=function(e){return{width:t(e).outerWidth(),height:t(e).outerHeight()}},e.prototype.scrollOffset=function(){return[window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop]},e.prototype.viewportDimensions=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},e.prototype.mousePosition=function(t){return t==null?null:{x:t.pageX,y:t.pageY}},e.prototype.offset=function(e){var i;return i=t(e).offset(),{left:i.left,top:i.top}},e.prototype.observe=function(e,i,o){return t(e).bind(i,o)},e.prototype.stopObserving=function(e,i,o){return t(e).unbind(i,o)},e.prototype.ajax=function(e){var i,o;if(e.url==null)throw Error("No url provided");return t.ajax({url:e.url,type:(i=(o=e.method)!=null?o.toUpperCase():void 0)!=null?i:"GET"}).done(function(t){return typeof e.onSuccess=="function"?e.onSuccess(t):void 0}).fail(function(t){return typeof e.onError=="function"?e.onError("Server responded with status "+t.status):void 0}).always(function(){return typeof e.onComplete=="function"?e.onComplete():void 0})},e.prototype.clone=function(e){return t.extend({},e)},e.prototype.extend=function(){var e,i;return i=arguments[0],e=arguments.length>=2?__slice.call(arguments,1):[],t.extend.apply(t,[i].concat(__slice.call(e)))},e}(),Opentip.addAdapter(new e)})(jQuery),document.createElement("canvas").getContext||function(){function t(){return this.context_||(this.context_=new p(this))}function e(t,e){var i=T.call(arguments,2);return function(){return t.apply(e,i.concat(T.call(arguments)))}}function i(t){var e=t.srcElement;switch(t.propertyName){case"width":e.style.width=e.attributes.width.nodeValue+"px",e.getContext().clearRect();break;case"height":e.style.height=e.attributes.height.nodeValue+"px",e.getContext().clearRect()}}function o(t){var e=t.srcElement;e.firstChild&&(e.firstChild.style.width=e.clientWidth+"px",e.firstChild.style.height=e.clientHeight+"px")}function s(){return[[1,0,0],[0,1,0],[0,0,1]]}function n(t,e){for(var i=s(),o=0;3>o;o++)for(var n=0;3>n;n++){for(var r=0,a=0;3>a;a++)r+=t[o][a]*e[a][n];i[o][n]=r}return i}function r(t,e){e.fillStyle=t.fillStyle,e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.shadowBlur=t.shadowBlur,e.shadowColor=t.shadowColor,e.shadowOffsetX=t.shadowOffsetX,e.shadowOffsetY=t.shadowOffsetY,e.strokeStyle=t.strokeStyle,e.globalAlpha=t.globalAlpha,e.arcScaleX_=t.arcScaleX_,e.arcScaleY_=t.arcScaleY_,e.lineScale_=t.lineScale_}function a(t){var e,i=1;if(t+="",t.substring(0,3)=="rgb"){var o=t.indexOf("(",3),s=t.indexOf(")",o+1),n=t.substring(o+1,s).split(",");e="#";for(var r=0;3>r;r++)e+=C[Number(n[r])];n.length==4&&t.substr(3,1)=="a"&&(i=n[3])}else e=t;return{color:e,alpha:i}}function h(t){switch(t){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function p(t){this.m_=s(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=y*1,this.globalAlpha=1,this.canvas=t;var e=t.ownerDocument.createElement("div");e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px",e.style.position="absolute",t.appendChild(e),this.element_=e,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function l(t,e,i,o){t.currentPath_.push({type:"bezierCurveTo",cp1x:e.x,cp1y:e.y,cp2x:i.x,cp2y:i.y,x:o.x,y:o.y}),t.currentX_=o.x,t.currentY_=o.y}function d(t){for(var e=0;3>e;e++)for(var i=0;2>i;i++)if(!isFinite(t[e][i])||isNaN(t[e][i]))return!1;return!0}function u(t,e,i){if(d(e)&&(t.m_=e,i)){var o=e[0][0]*e[1][1]-e[0][1]*e[1][0];t.lineScale_=b(w(o))}}function c(t){this.type_=t,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function g(){}var f=Math,m=f.round,v=f.sin,_=f.cos,w=f.abs,b=f.sqrt,y=10,O=y/2,T=Array.prototype.slice,x={init:function(t){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var i=t||document;i.createElement("canvas"),i.attachEvent("onreadystatechange",e(this.init_,this,i))}},init_:function(t){if(t.namespaces.g_vml_||t.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),t.namespaces.g_o_||t.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML"),!t.styleSheets.ex_canvas_){var e=t.createStyleSheet();e.owningElement.id="ex_canvas_",e.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}for(var i=t.getElementsByTagName("canvas"),o=0;i.length>o;o++)this.initElement(i[o])},initElement:function(e){if(!e.getContext){e.getContext=t,e.innerHTML="",e.attachEvent("onpropertychange",i),e.attachEvent("onresize",o);var s=e.attributes;s.width&&s.width.specified?e.style.width=s.width.nodeValue+"px":e.width=e.clientWidth,s.height&&s.height.specified?e.style.height=s.height.nodeValue+"px":e.height=e.clientHeight}return e}};x.init();for(var C=[],S=0;16>S;S++)for(var E=0;16>E;E++)C[S*16+E]=S.toString(16)+E.toString(16);var P=p.prototype;P.clearRect=function(){this.element_.innerHTML=""},P.beginPath=function(){this.currentPath_=[]},P.moveTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"moveTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},P.lineTo=function(t,e){var i=this.getCoords_(t,e);this.currentPath_.push({type:"lineTo",x:i.x,y:i.y}),this.currentX_=i.x,this.currentY_=i.y},P.bezierCurveTo=function(t,e,i,o,s,n){var r=this.getCoords_(s,n),a=this.getCoords_(t,e),h=this.getCoords_(i,o);l(this,a,h,r)},P.quadraticCurveTo=function(t,e,i,o){var s=this.getCoords_(t,e),n=this.getCoords_(i,o),r={x:this.currentX_+2/3*(s.x-this.currentX_),y:this.currentY_+2/3*(s.y-this.currentY_)},a={x:r.x+(n.x-this.currentX_)/3,y:r.y+(n.y-this.currentY_)/3};l(this,r,a,n)},P.arc=function(t,e,i,o,s,n){i*=y;var r=n?"at":"wa",a=t+_(o)*i-O,h=e+v(o)*i-O,p=t+_(s)*i-O,l=e+v(s)*i-O;a!=p||n||(a+=.125);var d=this.getCoords_(t,e),u=this.getCoords_(a,h),c=this.getCoords_(p,l);this.currentPath_.push({type:r,x:d.x,y:d.y,radius:i,xStart:u.x,yStart:u.y,xEnd:c.x,yEnd:c.y})},P.rect=function(t,e,i,o){this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath()},P.strokeRect=function(t,e,i,o){var s=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.stroke(),this.currentPath_=s},P.fillRect=function(t,e,i,o){var s=this.currentPath_;this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+o),this.lineTo(t,e+o),this.closePath(),this.fill(),this.currentPath_=s},P.createLinearGradient=function(t,e,i,o){var s=new c("gradient");return s.x0_=t,s.y0_=e,s.x1_=i,s.y1_=o,s},P.createRadialGradient=function(t,e,i,o,s,n){var r=new c("gradientradial");return r.x0_=t,r.y0_=e,r.r0_=i,r.x1_=o,r.y1_=s,r.r1_=n,r},P.drawImage=function(t){var e,i,o,s,n,r,a,h,p=t.runtimeStyle.width,l=t.runtimeStyle.height;t.runtimeStyle.width="auto",t.runtimeStyle.height="auto";var d=t.width,u=t.height;if(t.runtimeStyle.width=p,t.runtimeStyle.height=l,arguments.length==3)e=arguments[1],i=arguments[2],n=r=0,a=o=d,h=s=u;else if(arguments.length==5)e=arguments[1],i=arguments[2],o=arguments[3],s=arguments[4],n=r=0,a=d,h=u;else{if(arguments.length!=9)throw Error("Invalid number of arguments");n=arguments[1],r=arguments[2],a=arguments[3],h=arguments[4],e=arguments[5],i=arguments[6],o=arguments[7],s=arguments[8]}var c=this.getCoords_(e,i),g=[],v=10,_=10;if(g.push(" <g_vml_:group",' coordsize="',y*v,",",y*_,'"',' coordorigin="0,0"',' style="width:',v,"px;height:",_,"px;position:absolute;"),this.m_[0][0]!=1||this.m_[0][1]){var w=[];w.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",m(c.x/y),",","Dy=",m(c.y/y),"");var b=c,O=this.getCoords_(e+o,i),T=this.getCoords_(e,i+s),x=this.getCoords_(e+o,i+s);b.x=f.max(b.x,O.x,T.x,x.x),b.y=f.max(b.y,O.y,T.y,x.y),g.push("padding:0 ",m(b.x/y),"px ",m(b.y/y),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",w.join(""),", sizingmethod='clip');")}else g.push("top:",m(c.y/y),"px;left:",m(c.x/y),"px;");g.push(' ">','<g_vml_:image src="',t.src,'"',' style="width:',y*o,"px;"," height:",y*s,'px;"',' cropleft="',n/d,'"',' croptop="',r/u,'"',' cropright="',(d-n-a)/d,'"',' cropbottom="',(u-r-h)/u,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",g.join(""))},P.stroke=function(t){var e=[],i=a(t?this.fillStyle:this.strokeStyle),o=i.color,s=i.alpha*this.globalAlpha,n=10,r=10;e.push("<g_vml_:shape",' filled="',!!t,'"',' style="position:absolute;width:',n,"px;height:",r,'px;"',' coordorigin="0 0" coordsize="',y*n," ",y*r,'"',' stroked="',!t,'"',' path="');for(var p={x:null,y:null},l={x:null,y:null},d=0;this.currentPath_.length>d;d++){var u,c=this.currentPath_[d];switch(c.type){case"moveTo":u=c,e.push(" m ",m(c.x),",",m(c.y));break;case"lineTo":e.push(" l ",m(c.x),",",m(c.y));break;case"close":e.push(" x "),c=null;break;case"bezierCurveTo":e.push(" c ",m(c.cp1x),",",m(c.cp1y),",",m(c.cp2x),",",m(c.cp2y),",",m(c.x),",",m(c.y));break;case"at":case"wa":e.push(" ",c.type," ",m(c.x-this.arcScaleX_*c.radius),",",m(c.y-this.arcScaleY_*c.radius)," ",m(c.x+this.arcScaleX_*c.radius),",",m(c.y+this.arcScaleY_*c.radius)," ",m(c.xStart),",",m(c.yStart)," ",m(c.xEnd),",",m(c.yEnd))}c&&((p.x==null||p.x>c.x)&&(p.x=c.x),(l.x==null||c.x>l.x)&&(l.x=c.x),(p.y==null||p.y>c.y)&&(p.y=c.y),(l.y==null||c.y>l.y)&&(l.y=c.y))}if(e.push(' ">'),t)if(typeof this.fillStyle=="object"){var g=this.fillStyle,v=0,_={x:0,y:0},w=0,b=1;if(g.type_=="gradient"){var O=g.x0_/this.arcScaleX_,T=g.y0_/this.arcScaleY_,x=g.x1_/this.arcScaleX_,C=g.y1_/this.arcScaleY_,S=this.getCoords_(O,T),E=this.getCoords_(x,C),P=E.x-S.x,B=E.y-S.y;v=Math.atan2(P,B)*180/Math.PI,0>v&&(v+=360),1e-6>v&&(v=0)}else{var S=this.getCoords_(g.x0_,g.y0_),M=l.x-p.x,k=l.y-p.y;_={x:(S.x-p.x)/M,y:(S.y-p.y)/k},M/=this.arcScaleX_*y,k/=this.arcScaleY_*y;var I=f.max(M,k);w=2*g.r0_/I,b=2*g.r1_/I-w}var L=g.colors_;L.sort(function(t,e){return t.offset-e.offset});for(var H=L.length,J=L[0].color,j=L[H-1].color,z=L[0].alpha*this.globalAlpha,R=L[H-1].alpha*this.globalAlpha,A=[],d=0;H>d;d++){var W=L[d];A.push(W.offset*b+w+" "+W.color)}e.push('<g_vml_:fill type="',g.type_,'"',' method="none" focus="100%"',' color="',J,'"',' color2="',j,'"',' colors="',A.join(","),'"',' opacity="',R,'"',' g_o_:opacity2="',z,'"',' angle="',v,'"',' focusposition="',_.x,",",_.y,'" />')}else e.push('<g_vml_:fill color="',o,'" opacity="',s,'" />');else{var D=this.lineScale_*this.lineWidth;1>D&&(s*=D),e.push("<g_vml_:stroke",' opacity="',s,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',h(this.lineCap),'"',' weight="',D,'px"',' color="',o,'" />')}e.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",e.join(""))},P.fill=function(){this.stroke(!0)},P.closePath=function(){this.currentPath_.push({type:"close"})},P.getCoords_=function(t,e){var i=this.m_;return{x:y*(t*i[0][0]+e*i[1][0]+i[2][0])-O,y:y*(t*i[0][1]+e*i[1][1]+i[2][1])-O}},P.save=function(){var t={};r(this,t),this.aStack_.push(t),this.mStack_.push(this.m_),this.m_=n(s(),this.m_)},P.restore=function(){r(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},P.translate=function(t,e){var i=[[1,0,0],[0,1,0],[t,e,1]];u(this,n(i,this.m_),!1)},P.rotate=function(t){var e=_(t),i=v(t),o=[[e,i,0],[-i,e,0],[0,0,1]];u(this,n(o,this.m_),!1)},P.scale=function(t,e){this.arcScaleX_*=t,this.arcScaleY_*=e;var i=[[t,0,0],[0,e,0],[0,0,1]];u(this,n(i,this.m_),!0)},P.transform=function(t,e,i,o,s,r){var a=[[t,e,0],[i,o,0],[s,r,1]];u(this,n(a,this.m_),!0)},P.setTransform=function(t,e,i,o,s,n){var r=[[t,e,0],[i,o,0],[s,n,1]];u(this,r,!0)},P.clip=function(){},P.arcTo=function(){},P.createPattern=function(){return new g},c.prototype.addColorStop=function(t,e){e=a(e),this.colors_.push({offset:t,color:e.color,alpha:e.alpha})},G_vmlCanvasManager=x,CanvasRenderingContext2D=p,CanvasGradient=c,CanvasPattern=g}()
</script>
<script>var debug = false;

    var bar_margin = { top: 40, right: 40, bottom: 30, left: 40 },
        bar_width = 960 - bar_margin.left - bar_margin.right,
        bar_height = 500 - bar_margin.top - bar_margin.bottom;

    var x_scale = d3.scale.ordinal()
        .rangeRoundBands([0, bar_width], .1);

    var y_scale = d3.scale.linear()
        .rangeRound([bar_height, 0]);

    var height_scale = d3.scale.linear()
        .rangeRound([0, bar_height]);

    var taxanomic_categories = ["Kingdom", "Phylum", "Class", "Order", "Family", "Genus", "Species"];
    //var taxanomic_categories = ["Kingdom" ,"Phylum"];
    //var color = function(d) {
    //  return d3.hsl(240,0.99,(0.05 * d.level_index)).toString();
    //}

    //var color = d3.scale.ordinal()
    //    .range(["#98abc5", "#ff8c00", "#8a89a6", "#7b6888", "#6b486b", "#a05d56", "#d0743c"]);

    var color = d3.scale.category20c().domain([0, 19]);

    var xAxis = d3.svg.axis()
        .scale(x_scale)
        .orient("bottom");

    var yAxis = d3.svg.axis()
        .scale(y_scale)
        .orient("left")
        .tickFormat(d3.format(".0%"));



    var points = new Array();
    var dat;
    var text;

    function drawCol() {
        //d3.selectAll("svg").remove();
        //d3.selectAll("path").remove();
        //d3.selectAll("text").remove();
        //d3.selectAll("nodes").remove();
        var bar = d3.select("#bar").append("svg")
          //.attr("width", bar_width + bar_margin.left + bar_margin.right)
          //.attr("height", bar_height + bar_margin.top + bar_margin.bottom)
          .attr("width", bar_width + bar_margin.left)
          .attr("height", bar_height + bar_margin.top + bar_margin.bottom)
          .append("g")
          .attr("transform", "translate(" + bar_margin.left + "," + bar_margin.top + ")");

        var ot_inited = d3.select("#bar")
            .append("ot_inited")
            .attr("transform", "translate(" + (bar_margin.left) + "," + bar_margin.top + ")");
        do_draw_col();
        function do_draw_col() {
            var data = col_json;
            dat = data;
            for (var i = 0; i < data.length; i++) {
                var ar = d3.keys(data[i]);
                var tot = 0; // sum of abundances for normalization
                for (var a = 0; a < ar.length; a++) {
                    tot += data[i][ar[a]][data[i][ar[a]].length - 1];
                }
                for (var a = 0; a < ar.length; a++) {
                    data[i][ar[a]][data[i][ar[a]].length - 1] = (data[i][ar[a]][data[i][ar[a]].length - 1] / tot);
                    if (data[i][ar[a]][data[i][ar[a]].length - 1] == NaN) alert(data[i][ar[a]][data[i][ar[a]].length - 1]);
                }
            }


            var total_names = new Array();
            var t = 0;
            var id = 0;
            for (var i = 0; i < data.length; i++) {
                total_names = total_names.concat(d3.keys(data[i]));
                var level_index = 0;
                points = points.concat(d3.keys(data[i]).map(function (n) { return { label: n, y: 0, h: data[i][n][data[i][n].length - 1], t: t, ID: '#' + id++, level_index: level_index++, phylogeny: data[i][n].slice(0, data[i][n].length - 1) }; }));
                t++;
            }
            //if(debug) alert("data.length="+data.length+"\npoints.length="+points.length+"\nd3.keys(data[0]).length=" + d3.keys(data[0]).length + "\ntotal_names.length=" + total_names.length);
            var IDS = [];
            for (var i = 0; i < total_names.length; i++) IDS.push("#" + i);
            //color.domain(IDS);
            x_scale.domain(taxanomic_categories);

            var phylos = {};
            points.forEach(function (d) {
                if (d.phylogeny.length == 0) phylos[d.ID] = "";
                else {
                    var st = "<br /><b>Classification Hierarchy:</b><br />";
                    for (var i = 0; i < d.phylogeny.length; i++) {
                        st += taxanomic_categories[i] + " : " + d.phylogeny[i];
                        if (i < d.phylogeny.length - 1) st += "<br />"
                    }
                    phylos[d.ID] = st;
                }
            })

            var s = new Array();
            var element_dict = [];
            for (var i = 0; i < taxanomic_categories.length; i++) s.push(0.0);
            points.sort(function (a, b) { return b.h - a.h; });
            for (var i = 0; i < points.length; i++) {
                points[i].y = s[points[i].t] + points[i].h;
                s[points[i].t] = points[i].y;
                // element_dict[]
                //points[i].d = d3.select(points[i]).append(i);
            }

            var heights = new Array();
            for (var i = 0; i < taxanomic_categories.length; i++) heights.push(0);
            for (var i = points.length - 1; i > -1; i--) {
                points[i].y = heights[points[i].t];
                heights[points[i].t] += height_scale(points[i].h);
            }

            /**
              if(debug) {
                  var info = "";
                  for(var i = 0; i < points.length; i++) {
                    info += "y:" + points[i].y + " h:" + points[i].h + " t:" + points[i].t + "\n";
                  }
                  alert(info);
              } 
            **/

            //var ot_init = new Opentip("ot_inited", { tipJoint: "right", delay: 10, hideDelay: 10, style: "alert"});
            //ot_init.show();
            //ot_init.setContent("Mouseover to display taxonmy information");

            var recta = bar.selectAll("rect").data(points).enter().append("rect");

            var ot = new Opentip("#bar", { delay: 0, hideDelay: 0 });

            text = bar.selectAll("text").data(points).enter().append("text");

            text.attr("x", function (d) { return x_scale(taxanomic_categories[d.t]) + x_scale.rangeBand() / 2; })
                .attr("y", function (d) { return d.y + height_scale(d.h) / 2 + 5; })
                .attr("text-anchor", "middle")
                .text(function (d) {
                    var ret = (d.h > 0.05) ? d.label.replace("Unclassified ", "Unc. ") : "";
                    if (ret.length > 15) ret = ret.slice(0, 9) + "..." + ret.slice(ret.length - 3, ret.length);
                    return ret;
                })
                .on("mouseover", mouseover)
                .on("click", click)
                .on("mouseout", mouseout);


            recta
                .attr("transform", function (d) { return "translate(" + x_scale(taxanomic_categories[d.t]) + ",0)"; })
                .attr("width", x_scale.rangeBand())
                .attr("y", function (d) { return d.y; })
                .attr("height", function (d) { return height_scale(d.h); })
                .attr("fill-opacity", 1)
                .on("mouseover", mouseover)
                .on("click", click)
                .on("mouseout", mouseout)
                .style("fill", function (d) { return color(d.level_index); });



            /*bar.append("text")
                  .attr("x", (width / 2) + bar_margin.left)             
                  .attr("y", 0 - (bar_margin.top / 2))
                  .attr("text-anchor", "middle")  
                  .style("font-size", "16px") 
                  .style("text-decoration", "underline")  
                  .text("Phylogenetic Classification Summary");
            */

            bar.append("g")
                .attr("class", "x axis")
                .attr("transform", "translate(0," + bar_height + ")")
                .call(xAxis);

            bar.append("g")
                .attr("class", "y axis")
                .call(yAxis);
            /**
              if(debug) {
                var info = "";
                for(var i = 0; i < points.length; i++) {
                  info += "y:" + points[i].y + " : " + y(points[i].y) +" h:" + points[i].h + " : " + y(points[i].h) + " t:" + points[i].t + "\n";
                }
                alert(info);
              }
            **/
            function click(d) {
                ot.setContent(taxanomic_categories[d.t] + ": " + d.label + "<br />Relative Abundence: " + (data[d.t][d.label][data[d.t][d.label].length - 1] * 100).toFixed(2) + "%" + "<br />" + phylos[d.ID]);
            }

            function mouseover(d) {
                //ot_init.hide();
                //ot_init.delay = 100;
                ot.setContent(taxanomic_categories[d.t] + ": " + d.label + "<br />" + (data[d.t][d.label][data[d.t][d.label].length - 1] * 100).toFixed(2) + "% of " + taxanomic_categories[d.t] + " classifications<br />Click for phylogeny");
                if (debug) ot.setContent(taxanomic_categories[d.t] + ": " + d.label + "<br />y(d.y): " + y_scale(d.y) + "<br />height_scale(d.h)" + height_scale(d.h));
                return;
            }

            function mouseout(d) {
                ot.hide();
                return;
            }

        }
    }

    var width = 600,
        height = width,
        radius = width / 2,
        x = d3.scale.linear().range([0, 2 * Math.PI]),
        y = d3.scale.pow().exponent(1.3).domain([0, 1]).range([0, radius]),
        padding = 50,
        min_pad = 10,
        duration = 1000;

    var debug = false;
    //var div = d3.select("#sun");

    var taxa_cats = ["Total", "Kingdom", "Phylum", "Class", "Order", "Family", "Genus", "Species"];
    var threshold_list = [1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1, 0.1];

    var global_saturation = 0.4;
    var global_lightness = 0.6;
    var global_color_offset = 5;

    var color_level = 2;
    var arc;




    function drawSun() {
        d3.selectAll("#sun").select("svg").remove();
        //d3.selectAll("path").remove();
        //d3.selectAll("text").remove();
        //d3.selectAll("nodes").remove();
        div = d3.select("#sun");
        var sun = div.append("svg")
            .attr("width", width + padding * 2)
            .attr("height", height + padding * 2)
          .append("g")
            .attr("transform", "translate(" + [radius + padding, radius + padding] + ")");

        var sun_ot = new Opentip("#sun", { delay: 0, hideDelay: 0 });

        var nodes;
        //var text;

        var curr_min_depth = 0;

        var partition = d3.layout.partition()
            .sort(null)
            .value(function (d) { return d.size; });

        arc = d3.svg.arc()
            .startAngle(function (d) { return Math.max(0, Math.min(2 * Math.PI, x(d.x))); })
            .endAngle(function (d) { return Math.max(0, Math.min(2 * Math.PI, x(d.x + d.dx))); })
            .innerRadius(function (d) { return Math.max(0, d.y ? y(d.y) : d.y); })
            .outerRadius(function (d) {
                if (d.children) return Math.max(0, y(d.y + d.dy));
                return radius;
            });

        //iterates over all nodes in collection nodes and returns the max depth
        var getMaxDepth = function (nodes) {
            maxDepth = 0;
            for (i = 0; i < nodes.length; i++) {
                if (nodes[i].depth > maxDepth) maxDepth = nodes[i].depth;
            }
            return maxDepth;
        };
        do_draw_sun();
        function do_draw_sun() {
            var json = sun_json;
            nodes = partition.nodes({ children: json });
            var max_levels = getMaxDepth(nodes);
            var color_count = 0;
            nodes.forEach(function (n) { if (n.depth == color_level) color_count++; });
            h_list = getHSLs(color_count);
            var cl = 1;
            nodes.forEach(function (n) {
                if (n.depth == color_level) {
                    n.colour = d3.hsl(h_list[cl++], global_saturation, global_lightness);
                    if (n.children) setChildColours(n);
                }
                nodes.forEach(function (n) { if (!n.colour) n.colour = d3.hsl(50, global_saturation, global_lightness); });
                ;
            });

            nodes.forEach(function (n) {
                if (!n.children) n.dy = 1.0 - n.y;
            })


            sun_ot.setContent("Total Reads: " + nodes[0].value);

            var path = sun.selectAll("path").data(nodes);
            path.enter().append("path")
                .attr("id", function (d, i) { return "path-" + i; })
                .attr("d", arc)
                .attr("fill-rule", "evenodd")
                .style("fill", colour)
                .style("stroke-width", 0.75)
                .style("stroke", "#464646")
                .on("click", click)
                .on("touch", click)
                .on("touchstart", click)
                .on("mouseover", mouseover)
                .on("mouseout", mouseout);

            sun_text = sun.selectAll("text").data(nodes);

            var min_x = 1;
            var max_x = 0;
            nodes.forEach(function (m) {
                if (checkIfDisplay(nodes[0], m)) {
                    if (m.x > max_x) max_x = m.x;
                    if (m.x < min_x) min_x = m.x;
                }
            })
            var boundary = (min_x + max_x) / 2;

            var textEnter = sun_text.enter().append("text")
                .style("display", function (d) {
                    if (checkIfDisplay(nodes[0], d)) return "block";
                    return "none";
                })
                .attr("font-weight", "bold")
                .style("fill", function (d) {
                    //return "#E52121";
                    //return d3.rgb(d.colour);
                    return brightness(d3.rgb(colour(d))) < 125 ? "#FFFFFF" : "#000000";
                })
                .attr("text-anchor", function (n) {
                    if (!n.children && curr_min_depth < 6) {
                        if ((n.x + n.dx / 2) < boundary) {
                            return "start";
                        }
                        else {
                            return "end";
                        }
                    }
                    return "middle";
                })
                .attr("dy", ".2em")
                .attr("transform", function (d) {
                    var multiline = (d.name || "").split(" ").length > 1,
                        angle = x(d.x + d.dx / 2) * 180 / Math.PI - 90,
                        opt = angle > 0 && angle < 180 ? 180 : 0,
                        rotate = angle + (multiline ? -.5 : 0);
                    d.angle = angle;
                    d.rotate = rotate;

                    var second_rot = roundAngle(rotate).toFixed(0);
                    if (!d.children && curr_min_depth < 6) second_rot = rotate > 270 || rotate < 90 ? 0 : 180;

                    return "rotate(" + rotate + ")translate(" + (y(d.y + d.dy / 2)) + ")rotate(" + second_rot + ")";
                })
                .on("click", click)
                .on("touch", click)
                .on("touchstart", click)
                .on("mouseover", mouseover)
                .on("mouseout", mouseout);
            textEnter.append("tspan")
                .attr("x", 0)
                .text(function (d) { return d.depth ? d.name.split(" ")[0] : ""; return ""; });
            textEnter.append("tspan")
                .attr("x", 0)
                .attr("dy", "1em")
                .text(function (d) { return d.depth ? d.name.split(" ")[1] || "" : ""; return ""; });

            click(nodes[0]);

            function click(d) {
                min_x = 1;
                max_x = 0;
                nodes.forEach(function (m) {
                    if (checkIfDisplay(d, m)) {
                        if (m.x > max_x) max_x = m.x;
                        if (m.x < min_x) min_x = m.x;
                    }
                })
                boundary = (min_x + max_x) / 2;
                curr_min_depth = d.depth;
                path.transition()
                  .duration(duration)
                  .attrTween("d", arcTween(d));

                sun_text.style("display", function (e) {
                    if (checkIfDisplay(d, e)) return "block";
                    return "none";
                })
                  .attr("text-anchor", "middle")
                  .transition()
                    .duration(duration)
                    .attrTween("transform", function (e) {
                        var multiline = (e.name || "").split(" ").length > 1;
                        return function () {
                            var angle = x(e.x + e.dx / 2) * 180 / Math.PI - 90,
                                opt = angle > 0 && angle < 180 ? 180 : 0,
                                rotate = angle + (multiline ? -.5 : 0);
                            e.angle = angle;
                            var second_rot = roundAngle(rotate).toFixed(0);

                            if (!e.children && curr_min_depth < 6 && checkIfDisplay(d, e)) {
                                second_rot = rotate > 270 || rotate < 90 ? 0 : 180;
                                d3.select("#sun").selectAll("text").each(function (n) { if (n.value === e.value && n.depth == e.depth) d3.select(this).attr("text-anchor", (rotate > 270 || rotate < 90) ? "start" : "end") })
                            }
                            return "rotate(" + rotate + ")translate(" + (y(e.y + e.dy / 2)) + ")rotate(" + second_rot + ")";
                        };
                    });
            }

            function mouseover(d) {
                // if (d.style("visibility") == 0) return;
                if (debug) sun_ot.setContent(taxa_cats[d.depth] + ": " + d.name + "<br />Reads: " + d.value + "<br />x(d.x): " + ((d.x)).toFixed(2) + " x(d.dx): " + ((d.dx)).toFixed(2) + "<br />y(d.y): " + (d.y).toFixed(2) + "y(d.dy): " + (d.dy).toFixed(2) + "<br />text anchor: " + d3.select(this).attr("text-anchor") + "<br />rotate: " + d.rotate + "<br />depth " + d.depth);
                if (d.parent.parent) sun_ot.setContent(taxa_cats[d.depth] + ": " + d.name + "<br />" + (100 * d.value / d.parent.value).toFixed(1) + "% of " + d.parent.name + " reads<br />" + (100 * d.value / nodes[0].value).toFixed(1) + "% of total reads");
                else if (d.parent) sun_ot.setContent(taxa_cats[d.depth] + ": " + d.name + "<br />" + (100 * d.value / d.parent.value).toFixed(1) + "% of total reads");
                return;
            }

            function mouseout(d) {
                sun_ot.setContent("Total Reads: " + nodes[0].value);
                sun_ot.hide();
                return;
            }
        }
    }

    function isParentOf(p, c) {
        if (p === c) return true;
        if (p.children) {
            return p.children.some(function (d) {
                return isParentOf(d, c);
            });
        }
        return false;
    }

    function checkIfDisplay(d, e) {
        if (!isParentOf(d, e)) return 0;
        if (e.value / d.value < threshold_list[e.depth]) return 0;
        return 1;
    }
    function setChildColours(d) {
        var coefs = diffArray(d.children.length);
        var offset = global_color_offset;
        var start = Math.min(360, (d.colour.h + (offset * (Math.round(d.children.length / 2) + 1))));
        for (var i = 0; i < d.children.length; i++) {
            var h = coefs[i] * offset + d.colour.h;
            h = h % 360;
            if (h < 0) h += 360;
            d.children[i].colour = d3.hsl(h, global_saturation, global_lightness);
            if (d.children[i].children) {
                setChildColours(d.children[i]);
            }
        }
    }
    /**
    function setChildColours(d) {
      var offset = Math.max(3,d.children.length);
      var start = Math.min(360, (d.colour.h + (offset * (Math.round(d.children.length/2) + 1))));
      for(var i = 0; i < d.children.length; i++) {
        d.children[i].colour = d3.hsl(Math.max(1,(start - i * offset)),global_saturation,global_lightness);
        if(d.children[i].children) {
          setChildColours(d.children[i]);
        }
      }
    }
    **/
    function colour(d) {
        if (!d.colour) d.colour = d3.hsl(50, global_saturation, global_lightness);
        return d.colour.toString();
    }

    // Interpolate the scales!
    function arcTween(d) {
        var my = maxY(d),
            xd = d3.interpolate(x.domain(), [d.x, d.x + d.dx]),
            yd = d3.interpolate(y.domain(), [d.y, my]),
            yr = d3.interpolate(y.range(), [d.y ? 20 : 0, radius]);
        return function (d) {
            return function (t) { x.domain(xd(t)); y.domain(yd(t)).range(yr(t)); return arc(d); };
        };
    }

    function maxY(d) {
        return d.children ? Math.max.apply(Math, d.children.map(maxY)) : d.y + d.dy;
    }

    // http://www.w3.org/WAI/ER/WD-AERT/#color-contrast
    function brightness(rgb) {
        return rgb.r * .299 + rgb.g * .587 + rgb.b * .114;
    }

    // return n HSL colors that are equally spaced
    function getHSLs(n) {
        var sep = Math.round(360 / n);
        var ret = [];
        for (var i = 0; i < n; i++) ret.push(i * sep);
        return ret;
    }

    function ResetSunburst() { drawSun(); }

    function roundAngle(angle) {
        //return -angle
        angle = angle % 360;
        if (angle > 180 || angle < 0) return 90;
        return 270;

    }

    function diffArray(n) {
        var ret = new Array()
        for (var i = -1 * (n / 2).toFixed(0) ; i <= (n / 2).toFixed(0) ; i++) {
            if (i == 0) continue;
            ret.push(i);
        }
        if (n % 2 != 0) ret.splice(0, 1);
        return ret;
    }

    function drawClassifSummaryTable() {
        tabulate(classif_json, ["level", "class", "unclass"]);
        function tabulate(data, columns) {
            var table = d3.select("#classifsummary").append("table"),
                thead = table.append("thead"),
                headers = ["Taxanomic Level", "% Reads Classified", "% Reads Unclassified"],
                tbody = table.append("tbody");

            // append the header row
            thead.append("tr")
                .selectAll("th")
                .data(headers)
                .enter()
                .append("th")
                    .text(function (d) { return d; });

            // create a row for each object in the data
            var rows = tbody.selectAll("tr")
                .data(data)
                .enter()
                .append("tr");

            // create a cell in each row for each column
            var cells = rows.selectAll("td")
                .data(function (row) {
                    return columns.map(function (column) {
                        return { column: column, value: row[column] };
                    });
                })
                .enter()
                .append("td")
                    .text(function (d) { return d.value; });

            return table;
        }

    }
</script>
</head>
<style>

    .opentip-container,
.opentip-container * {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
.opentip-container {
  position: absolute;
  max-width: 300px;
  z-index: 100;
  -webkit-transition: -webkit-transform 1s ease-in-out;
  -moz-transition: -moz-transform 1s ease-in-out;
  -o-transition: -o-transform 1s ease-in-out;
  -ms-transition: -ms-transform 1s ease-in-out;
  transition: transform 1s ease-in-out;
  pointer-events: none;
  -webkit-transform: translateX(0) translateY(0);
  -moz-transform: translateX(0) translateY(0);
  -o-transform: translateX(0) translateY(0);
  -ms-transform: translateX(0) translateY(0);
  transform: translateX(0) translateY(0);
}
.opentip-container.ot-fixed.ot-hidden.stem-top.stem-center,
.opentip-container.ot-fixed.ot-going-to-show.stem-top.stem-center,
.opentip-container.ot-fixed.ot-hiding.stem-top.stem-center {
  -webkit-transform: translateY(-5px);
  -moz-transform: translateY(-5px);
  -o-transform: translateY(-5px);
  -ms-transform: translateY(-5px);
  transform: translateY(-5px);
}
.opentip-container.ot-fixed.ot-hidden.stem-top.stem-right,
.opentip-container.ot-fixed.ot-going-to-show.stem-top.stem-right,
.opentip-container.ot-fixed.ot-hiding.stem-top.stem-right {
  -webkit-transform: translateY(-5px) translateX(5px);
  -moz-transform: translateY(-5px) translateX(5px);
  -o-transform: translateY(-5px) translateX(5px);
  -ms-transform: translateY(-5px) translateX(5px);
  transform: translateY(-5px) translateX(5px);
}
.opentip-container.ot-fixed.ot-hidden.stem-middle.stem-right,
.opentip-container.ot-fixed.ot-going-to-show.stem-middle.stem-right,
.opentip-container.ot-fixed.ot-hiding.stem-middle.stem-right {
  -webkit-transform: translateX(5px);
  -moz-transform: translateX(5px);
  -o-transform: translateX(5px);
  -ms-transform: translateX(5px);
  transform: translateX(5px);
}
.opentip-container.ot-fixed.ot-hidden.stem-bottom.stem-right,
.opentip-container.ot-fixed.ot-going-to-show.stem-bottom.stem-right,
.opentip-container.ot-fixed.ot-hiding.stem-bottom.stem-right {
  -webkit-transform: translateY(5px) translateX(5px);
  -moz-transform: translateY(5px) translateX(5px);
  -o-transform: translateY(5px) translateX(5px);
  -ms-transform: translateY(5px) translateX(5px);
  transform: translateY(5px) translateX(5px);
}
.opentip-container.ot-fixed.ot-hidden.stem-bottom.stem-center,
.opentip-container.ot-fixed.ot-going-to-show.stem-bottom.stem-center,
.opentip-container.ot-fixed.ot-hiding.stem-bottom.stem-center {
  -webkit-transform: translateY(5px);
  -moz-transform: translateY(5px);
  -o-transform: translateY(5px);
  -ms-transform: translateY(5px);
  transform: translateY(5px);
}
.opentip-container.ot-fixed.ot-hidden.stem-bottom.stem-left,
.opentip-container.ot-fixed.ot-going-to-show.stem-bottom.stem-left,
.opentip-container.ot-fixed.ot-hiding.stem-bottom.stem-left {
  -webkit-transform: translateY(5px) translateX(-5px);
  -moz-transform: translateY(5px) translateX(-5px);
  -o-transform: translateY(5px) translateX(-5px);
  -ms-transform: translateY(5px) translateX(-5px);
  transform: translateY(5px) translateX(-5px);
}
.opentip-container.ot-fixed.ot-hidden.stem-middle.stem-left,
.opentip-container.ot-fixed.ot-going-to-show.stem-middle.stem-left,
.opentip-container.ot-fixed.ot-hiding.stem-middle.stem-left {
  -webkit-transform: translateX(-5px);
  -moz-transform: translateX(-5px);
  -o-transform: translateX(-5px);
  -ms-transform: translateX(-5px);
  transform: translateX(-5px);
}
.opentip-container.ot-fixed.ot-hidden.stem-top.stem-left,
.opentip-container.ot-fixed.ot-going-to-show.stem-top.stem-left,
.opentip-container.ot-fixed.ot-hiding.stem-top.stem-left {
  -webkit-transform: translateY(-5px) translateX(-5px);
  -moz-transform: translateY(-5px) translateX(-5px);
  -o-transform: translateY(-5px) translateX(-5px);
  -ms-transform: translateY(-5px) translateX(-5px);
  transform: translateY(-5px) translateX(-5px);
}
.opentip-container.ot-fixed .opentip {
  pointer-events: auto;
}
.opentip-container.ot-hidden {
  display: none;
}
.opentip-container .opentip {
  position: relative;
  font-size: 13px;
  line-height: 120%;
  padding: 9px 14px;
  color: #4f4b47;
  text-shadow: -1px -1px 0px rgba(255,255,255,0.2);
}
.opentip-container .opentip .header {
  margin: 0;
  padding: 0;
}
.opentip-container .opentip .ot-close {
  pointer-events: auto;
  display: block;
  position: absolute;
  top: -12px;
  left: 60px;
  color: rgba(0,0,0,0.5);
  background: rgba(0,0,0,0);
  text-decoration: none;
}
.opentip-container .opentip .ot-close span {
  display: none;
}
.opentip-container .opentip .ot-loading-indicator {
  display: none;
}
.opentip-container.ot-loading .ot-loading-indicator {
  width: 30px;
  height: 30px;
  font-size: 30px;
  line-height: 30px;
  font-weight: bold;
  display: block;
}
.opentip-container.ot-loading .ot-loading-indicator span {
  display: block;
  -webkit-animation: otloading 2s linear infinite;
  -moz-animation: otloading 2s linear infinite;
  -o-animation: otloading 2s linear infinite;
  -ms-animation: otloading 2s linear infinite;
  animation: otloading 2s linear infinite;
  text-align: center;
}
.opentip-container.style-dark .opentip,
.opentip-container.style-alert .opentip {
  color: #f8f8f8;
  text-shadow: 1px 1px 0px rgba(0,0,0,0.2);
}
.opentip-container.style-glass .opentip {
  padding: 15px 25px;
  color: #317cc5;
  text-shadow: 1px 1px 8px rgba(0,94,153,0.3);
}
.opentip-container.ot-hide-effect-fade {
  -webkit-transition: -webkit-transform 0.5s ease-in-out, opacity 1s ease-in-out;
  -moz-transition: -moz-transform 0.5s ease-in-out, opacity 1s ease-in-out;
  -o-transition: -o-transform 0.5s ease-in-out, opacity 1s ease-in-out;
  -ms-transition: -ms-transform 0.5s ease-in-out, opacity 1s ease-in-out;
  transition: transform 0.5s ease-in-out, opacity 1s ease-in-out;
  opacity: 1;
  -ms-filter: none;
  filter: none;
}
.opentip-container.ot-hide-effect-fade.ot-hiding {
  opacity: 0;
  filter: alpha(opacity=0);
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
}
.opentip-container.ot-show-effect-appear.ot-going-to-show,
.opentip-container.ot-show-effect-appear.ot-showing {
  -webkit-transition: -webkit-transform 0.5s ease-in-out, opacity 1s ease-in-out;
  -moz-transition: -moz-transform 0.5s ease-in-out, opacity 1s ease-in-out;
  -o-transition: -o-transform 0.5s ease-in-out, opacity 1s ease-in-out;
  -ms-transition: -ms-transform 0.5s ease-in-out, opacity 1s ease-in-out;
  transition: transform 0.5s ease-in-out, opacity 1s ease-in-out;
}
.opentip-container.ot-show-effect-appear.ot-going-to-show {
  opacity: 0;
  filter: alpha(opacity=0);
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
}
.opentip-container.ot-show-effect-appear.ot-showing {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}
.opentip-container.ot-show-effect-appear.ot-visible {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}
@-moz-keyframes otloading {
  0% {
    -webkit-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    transform: rotate(0deg);
  }

  100% {
    -webkit-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@-webkit-keyframes otloading {
  0% {
    -webkit-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    transform: rotate(0deg);
  }

  100% {
    -webkit-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@-o-keyframes otloading {
  0% {
    -webkit-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    transform: rotate(0deg);
  }

  100% {
    -webkit-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@-ms-keyframes otloading {
  0% {
    -webkit-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    transform: rotate(0deg);
  }

  100% {
    -webkit-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
@keyframes otloading {
  0% {
    -webkit-transform: rotate(0deg);
    -moz-transform: rotate(0deg);
    -o-transform: rotate(0deg);
    -ms-transform: rotate(0deg);
    transform: rotate(0deg);
  }

  100% {
    -webkit-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}


body {
  font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif;
  font-size: 12px;
  width: 880px;
  margin: 0 auto;
}

.axis path,
.axis line {
  fill: none;
  stroke: #000;
  shape-rendering: crispEdges;
}

path {
  stroke: #000;
  stroke-width: 1;
  cursor: pointer;
}


h1 {
  font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif;
	font-size: 18px;
	font-weight: 200;
  	text-align: center;
  	top:0px;
  	/*text-decoration:underline;*/

}

p#intro {
  	text-align: center;
  	margin: 0;
}
body,html{height: 100%;}
body {
	background-color:#E8E8E8;
}
#title {
	font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif;
  font-size: 20px;
	font-weight: 200;
  	text-align: center;
  	width: auto;
  	margin-left: auto;
  	margin-right: auto;
    margin-bottom: 30px;
  	text-decoration:underline;
  	position: relative;
  	top: 30px;
}

#footer {
  font: 12px arial;
  font-weight: 600;
    text-align: center;
    width: auto;
    margin-left: auto;
    margin-right: auto;
    margin-bottom: 30px;
    position: relative;
    top: 30px;
}

#charts {
	text-align: center;
    width: auto;
    height: auto;
    position:relative;
    top:50px;
    margin-bottom: 50px;
    background-color: #FAFAFA;
    display: inline-block;
}

#sun {
	font: 13px arial;
  	font-weight: 600;
  	cursor: pointer;
	margin-left: auto;
	margin-right: auto;
	margin-bottom: 20px;
  height:100%;
	/*position: relative;*/
}

    #classifsummary {
      position: relative;
      font-family: Sans-Serif;
      font-size:12px;
      width:450px;
      text-align: center;
      margin-left: auto;
      margin-right: auto;
      margin-bottom: 40px;
      margin-top: 40px;
      height:100%;

      border:1px solid #69c;
      }
    #classifsummary th{
      font-weight:normal;
      font-size:14px;
      color:#039;
      border-bottom:1px dashed #69c;
      padding:12px 17px;
      }
    #classifsummary td{
      color:#669;
      padding:7px 17px;
    }
    #classifsummary tbody tr:hover td{
      color:#339;
      background:#d0dafd;
    }

#button {
	position: relative;
	font: 12px arial;
  	font-weight: 300;
  	cursor: pointer;
	margin-left: 0;
	margin-right: 0;

}

#bar {
	font: 12px arial;
  	font-weight: 300;
  	cursor: pointer;
	margin-left: auto;
	margin-right: auto;
	width: auto;
  margin-bottom: 80px;
  height:100%;
}

.x.axis path {
  display: none;
}

.legend line {
  stroke: #000;
  shape-rendering: crispEdges;
}

</style>

<body><br /><center><img src="data:image/png;base64,
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" alt="Illumina Logo" width="350px" /><br /><br /><br /><h1>16S Metagenomics Report</h1><br /><h2>Sample: Human_Plaque_Calibration_R1</h2><h3><br />Analysis software version: 2.4.32.0<br /><br />Analysis Date: 8/7/2013 8:21:50 AM</h3><br /></center><hr />



<div id="charts">

	<h1>Sunburst Chart</h1>
	<button onclick="ResetSunburst()">Reset Plot</button>
	<div id="sun"></div>

	<h1>Top 20 Classifications by Taxanomic Level</h1>
	<div id="bar"></div>

  <h1>Classification Efficency by Taxanomic Level</h1>
  <div id="classifsummary"></div>

</div>

<div id="footer">&copy; Illumina 2013</div>

<script>var col_json =
[
{"Bacteria" : [787528], "Unclassified" : [44986]},
{"Firmicutes" : ["Bacteria", 245810], "Bacteroidetes" : ["Bacteria", 209934], "Proteobacteria" : ["Bacteria", 134775], "Fusobacteria" : ["Bacteria", 121578], "Actinobacteria" : ["Bacteria", 47726], "Spirochaetes" : ["Bacteria", 17616], "Unclassified Bacteria" : ["Bacteria", 6228], "Synergistetes" : ["Bacteria", 2828], "Verrucomicrobia" : ["Bacteria", 1033]},
{"Bacteroidia" : ["Bacteria", "Bacteroidetes", 173072], "Clostridia" : ["Bacteria", "Firmicutes", 122894], "Fusobacteria" : ["Bacteria", "Fusobacteria", 121578], "Bacilli" : ["Bacteria", "Firmicutes", 121074], "Betaproteobacteria" : ["Bacteria", "Proteobacteria", 62037], "Gammaproteobacteria" : ["Bacteria", "Proteobacteria", 49354], "Actinobacteria" : ["Bacteria", "Actinobacteria", 47726], "Flavobacteriia" : ["Bacteria", "Bacteroidetes", 34260], "Epsilonproteobacteria" : ["Bacteria", "Proteobacteria", 21991], "Spirochaetes" : ["Bacteria", "Spirochaetes", 17616], "Synergistia" : ["Bacteria", "Synergistetes", 2828], "Sphingobacteriia" : ["Bacteria", "Bacteroidetes", 1554], "Unclassified Proteobacteria" : ["Bacteria", "Proteobacteria", 1393], "Unclassified Bacteroidetes" : ["Bacteria", "Bacteroidetes", 1048], "Opitutae" : ["Bacteria", "Verrucomicrobia", 1033], "Unclassified Firmicutes" : ["Bacteria", "Firmicutes", 969], "Erysipelotrichi" : ["Bacteria", "Firmicutes", 873]},
{"Bacteroidales" : ["Bacteria", "Bacteroidetes", "Bacteroidia", 173072], "Fusobacteriales" : ["Bacteria", "Fusobacteria", "Fusobacteria", 121578], "Clostridiales" : ["Bacteria", "Firmicutes", "Clostridia", 119970], "Lactobacillales" : ["Bacteria", "Firmicutes", "Bacilli", 108013], "Neisseriales" : ["Bacteria", "Proteobacteria", "Betaproteobacteria", 58599], "Actinomycetales" : ["Bacteria", "Actinobacteria", "Actinobacteria", 47098], "Pasteurellales" : ["Bacteria", "Proteobacteria", "Gammaproteobacteria", 36614], "Flavobacteriales" : ["Bacteria", "Bacteroidetes", "Flavobacteriia", 34260], "Campylobacterales" : ["Bacteria", "Proteobacteria", "Epsilonproteobacteria", 21991], "Spirochaetales" : ["Bacteria", "Spirochaetes", "Spirochaetes", 17616], "Gemellales" : ["Bacteria", "Firmicutes", "Bacilli", 9306], "Cardiobacteriales" : ["Bacteria", "Proteobacteria", "Gammaproteobacteria", 7366], "Enterobacteriales" : ["Bacteria", "Proteobacteria", "Gammaproteobacteria", 5374], "Bacillales" : ["Bacteria", "Firmicutes", "Bacilli", 3755], "Coriobacteriales" : ["Bacteria", "Firmicutes", "Clostridia", 2924], "Burkholderiales" : ["Bacteria", "Proteobacteria", "Betaproteobacteria", 2896], "Synergistales" : ["Bacteria", "Synergistetes", "Synergistia", 2828], "Sphingobacteriales" : ["Bacteria", "Bacteroidetes", "Sphingobacteriia", 1554], "Pelagicoccales" : ["Bacteria", "Verrucomicrobia", "Opitutae", 1033], "Erysipelotrichales" : ["Bacteria", "Firmicutes", "Erysipelotrichi", 873]},
{"Veillonellaceae" : ["Bacteria", "Firmicutes", "Clostridia", "Clostridiales", 96021], "Streptococcaceae" : ["Bacteria", "Firmicutes", "Bacilli", "Lactobacillales", 89780], "Fusobacteriaceae" : ["Bacteria", "Fusobacteria", "Fusobacteria", "Fusobacteriales", 86983], "Prevotellaceae" : ["Bacteria", "Bacteroidetes", "Bacteroidia", "Bacteroidales", 83108], "Porphyromonadaceae" : ["Bacteria", "Bacteroidetes", "Bacteroidia", "Bacteroidales", 70550], "Neisseriaceae" : ["Bacteria", "Proteobacteria", "Betaproteobacteria", "Neisseriales", 58599], "Pasteurellaceae" : ["Bacteria", "Proteobacteria", "Gammaproteobacteria", "Pasteurellales", 36614], "Leptotrichiaceae" : ["Bacteria", "Fusobacteria", "Fusobacteria", "Fusobacteriales", 34595], "Flavobacteriaceae" : ["Bacteria", "Bacteroidetes", "Flavobacteriia", "Flavobacteriales", 34260], "Campylobacteraceae" : ["Bacteria", "Proteobacteria", "Epsilonproteobacteria", "Campylobacterales", 21991], "Spirochaetaceae" : ["Bacteria", "Spirochaetes", "Spirochaetes", "Spirochaetales", 17616], "Corynebacteriaceae" : ["Bacteria", "Actinobacteria", "Actinobacteria", "Actinomycetales", 17462], "Paraprevotellaceae" : ["Bacteria", "Bacteroidetes", "Bacteroidia", "Bacteroidales", 17105], "Actinomycetaceae" : ["Bacteria", "Actinobacteria", "Actinobacteria", "Actinomycetales", 16702], "Lachnospiraceae" : ["Bacteria", "Firmicutes", "Clostridia", "Clostridiales", 13592], "Leuconostocaceae" : ["Bacteria", "Firmicutes", "Bacilli", "Lactobacillales", 11653], "Micrococcaceae" : ["Bacteria", "Actinobacteria", "Actinobacteria", "Actinomycetales", 10448], "Gemellaceae" : ["Bacteria", "Firmicutes", "Bacilli", "Gemellales", 9306], "Cardiobacteriaceae" : ["Bacteria", "Proteobacteria", "Gammaproteobacteria", "Cardiobacteriales", 7366], "Enterobacteriaceae" : ["Bacteria", "Proteobacteria", "Gammaproteobacteria", "Enterobacteriales", 5374]},
{"Prevotella" : ["Bacteria", "Bacteroidetes", "Bacteroidia", "Bacteroidales", "Prevotellaceae", 100213], "Streptococcus" : ["Bacteria", "Firmicutes", "Bacilli", "Lactobacillales", "Streptococcaceae", 89240], "Fusobacterium" : ["Bacteria", "Fusobacteria", "Fusobacteria", "Fusobacteriales", "Fusobacteriaceae", 86983], "Veillonella" : ["Bacteria", "Firmicutes", "Clostridia", "Clostridiales", "Veillonellaceae", 66789], "Porphyromonas" : ["Bacteria", "Bacteroidetes", "Bacteroidia", "Bacteroidales", "Porphyromonadaceae", 59684], "Neisseria" : ["Bacteria", "Proteobacteria", "Betaproteobacteria", "Neisseriales", "Neisseriaceae", 51248], "Leptotrichia" : ["Bacteria", "Fusobacteria", "Fusobacteria", "Fusobacteriales", "Leptotrichiaceae", 34595], "Capnocytophaga" : ["Bacteria", "Bacteroidetes", "Flavobacteriia", "Flavobacteriales", "Flavobacteriaceae", 28821], "Selenomonas" : ["Bacteria", "Firmicutes", "Clostridia", "Clostridiales", "Veillonellaceae", 24213], "Campylobacter" : ["Bacteria", "Proteobacteria", "Epsilonproteobacteria", "Campylobacterales", "Campylobacteraceae", 21991], "Treponema" : ["Bacteria", "Spirochaetes", "Spirochaetes", "Spirochaetales", "Spirochaetaceae", 17616], "Corynebacterium" : ["Bacteria", "Actinobacteria", "Actinobacteria", "Actinomycetales", "Corynebacteriaceae", 17462], "Haemophilus" : ["Bacteria", "Proteobacteria", "Gammaproteobacteria", "Pasteurellales", "Pasteurellaceae", 16999], "Aggregatibacter" : ["Bacteria", "Proteobacteria", "Gammaproteobacteria", "Pasteurellales", "Pasteurellaceae", 14561], "Parascardovia" : ["Bacteria", "Actinobacteria", "Actinobacteria", "Actinomycetales", "Actinomycetaceae", 13385], "Leuconostoc" : ["Bacteria", "Firmicutes", "Bacilli", "Lactobacillales", "Leuconostocaceae", 11653], "Rothia" : ["Bacteria", "Actinobacteria", "Actinobacteria", "Actinomycetales", "Micrococcaceae", 10448], "Gemella" : ["Bacteria", "Firmicutes", "Bacilli", "Gemellales", "Gemellaceae", 9306], "Tannerella" : ["Bacteria", "Bacteroidetes", "Bacteroidia", "Bacteroidales", "Porphyromonadaceae", 7555], "Cardiobacterium" : ["Bacteria", "Proteobacteria", "Gammaproteobacteria", "Cardiobacteriales", "Cardiobacteriaceae", 7366]},
{"Unclassified Fusobacterium" : ["Bacteria", "Fusobacteria", "Fusobacteria", "Fusobacteriales", "Fusobacteriaceae", "Fusobacterium", 40044], "Unclassified Streptococcus" : ["Bacteria", "Firmicutes", "Bacilli", "Lactobacillales", "Streptococcaceae", "Streptococcus", 34758], "Unclassified Porphyromonas" : ["Bacteria", "Bacteroidetes", "Bacteroidia", "Bacteroidales", "Porphyromonadaceae", "Porphyromonas", 33372], "Unclassified Neisseria" : ["Bacteria", "Proteobacteria", "Betaproteobacteria", "Neisseriales", "Neisseriaceae", "Neisseria", 31641], "nucleatum" : ["Bacteria", "Fusobacteria", "Fusobacteria", "Fusobacteriales", "Fusobacteriaceae", "Fusobacterium", 30580], "parvula" : ["Bacteria", "Firmicutes", "Clostridia", "Clostridiales", "Veillonellaceae", "Veillonella", 25207], "dispar" : ["Bacteria", "Firmicutes", "Clostridia", "Clostridiales", "Veillonellaceae", "Veillonella", 22817], "Unclassified Prevotella" : ["Bacteria", "Bacteroidetes", "Bacteroidia", "Bacteroidales", "Prevotellaceae", "Prevotella", 20382], "pseudopneumoniae" : ["Bacteria", "Firmicutes", "Bacilli", "Lactobacillales", "Streptococcaceae", "Streptococcus", 18620], "nigrescens" : ["Bacteria", "Bacteroidetes", "Bacteroidia", "Bacteroidales", "Prevotellaceae", "Prevotella", 18276], "Unclassified Capnocytophaga" : ["Bacteria", "Bacteroidetes", "Flavobacteriia", "Flavobacteriales", "Flavobacteriaceae", "Capnocytophaga", 18044], "Unclassified Leptotrichia" : ["Bacteria", "Fusobacteria", "Fusobacteria", "Fusobacteriales", "Leptotrichiaceae", "Leptotrichia", 17090], "parainfluenzae" : ["Bacteria", "Proteobacteria", "Gammaproteobacteria", "Pasteurellales", "Pasteurellaceae", "Haemophilus", 16470], "matruchotii" : ["Bacteria", "Actinobacteria", "Actinobacteria", "Actinomycetales", "Corynebacteriaceae", "Corynebacterium", 14967], "Unclassified Parascardovia" : ["Bacteria", "Actinobacteria", "Actinobacteria", "Actinomycetales", "Actinomycetaceae", "Parascardovia", 13385], "loescheii" : ["Bacteria", "Bacteroidetes", "Bacteroidia", "Bacteroidales", "Prevotellaceae", "Prevotella", 12740], "gingivalis" : ["Bacteria", "Bacteroidetes", "Bacteroidia", "Bacteroidales", "Porphyromonadaceae", "Porphyromonas", 12419], "Unclassified Leuconostoc" : ["Bacteria", "Firmicutes", "Bacilli", "Lactobacillales", "Leuconostocaceae", "Leuconostoc", 11653], "segnis" : ["Bacteria", "Proteobacteria", "Gammaproteobacteria", "Pasteurellales", "Pasteurellaceae", "Aggregatibacter", 11618], "naviforme" : ["Bacteria", "Fusobacteria", "Fusobacteria", "Fusobacteriales", "Fusobacteriaceae", "Fusobacterium", 11479]}
]
;
var sun_json =
[
  {"name": "Unclassified", "size": 44986},
  {
   "name": "Bacteria",
   "children": [
    {
     "name": "Fusobacteria",
     "children": [
      {
       "name": "Fusobacteria",
       "children": [
        {
         "name": "Fusobacteriales",
         "children": [
          {
           "name": "Fusobacteriaceae",
           "children": [
            {
             "name": "Fusobacterium",
             "children": [
              {"name": "Unclassified Fusobacterium", "size": 40044},
              {"name": "nucleatum", "size": 30580},
              {"name": "naviforme", "size": 11479},
              {"name": "periodonticum", "size": 3452},
              {"name": "canifelinum", "size": 723},
              {"name": "simiae", "size": 705}
             ]
            }
           ]
          },
          {
           "name": "Leptotrichiaceae",
           "children": [
            {
             "name": "Leptotrichia",
             "children": [
              {"name": "Unclassified Leptotrichia", "size": 17090},
              {"name": "hofstadii", "size": 5791},
              {"name": "shahii", "size": 4050},
              {"name": "buccalis", "size": 3692},
              {"name": "wadei", "size": 2754},
              {"name": "trevisanii", "size": 1218}
             ]
            }
           ]
          }
         ]
        }
       ]
      }
     ]
    },
    {
     "name": "Firmicutes",
     "children": [
      {
       "name": "Bacilli",
       "children": [
        {
         "name": "Lactobacillales",
         "children": [
          {
           "name": "Streptococcaceae",
           "children": [
            {
             "name": "Streptococcus",
             "children": [
              {"name": "Unclassified Streptococcus", "size": 34758},
              {"name": "pseudopneumoniae", "size": 18620},
              {"name": "tigurinus", "size": 10422},
              {"name": "infantis", "size": 8037},
              {"name": "gordonii", "size": 6143},
              {"name": "sanguinis", "size": 4196},
              {"name": "cristatus", "size": 2120},
              {"name": "intermedius", "size": 1724},
              {"name": "oralis", "size": 1522},
              {"name": "anginosus", "size": 1076},
              {"name": "milleri", "size": 622}
             ]
            },
            {
             "name": "Unclassified Streptococcaceae",
             "children": [
              {"name": "Unclassified Streptococcaceae", "size": 540}
             ]
            }
           ]
          },
          {
           "name": "Leuconostocaceae",
           "children": [
            {
             "name": "Leuconostoc",
             "children": [
              {"name": "Unclassified Leuconostoc", "size": 11653}
             ]
            }
           ]
          },
          {
           "name": "Carnobacteriaceae",
           "children": [
            {
             "name": "Granulicatella",
             "children": [
              {"name": "adiacens", "size": 3081},
              {"name": "Unclassified Granulicatella", "size": 1534}
             ]
            }
           ]
          },
          {
           "name": "Aerococcaceae",
           "children": [
            {
             "name": "Abiotrophia",
             "children": [
              {"name": "Unclassified Abiotrophia", "size": 812},
              {"name": "defectiva", "size": 525}
             ]
            }
           ]
          },
          {
           "name": "Unclassified Lactobacillales",
           "children": [
            {
             "name": "Unclassified Lactobacillales",
             "children": [
              {"name": "Unclassified Lactobacillales", "size": 628}
             ]
            }
           ]
          }
         ]
        },
        {
         "name": "Gemellales",
         "children": [
          {
           "name": "Gemellaceae",
           "children": [
            {
             "name": "Gemella",
             "children": [
              {"name": "Unclassified Gemella", "size": 6533},
              {"name": "cunicula", "size": 1812},
              {"name": "sanguinis", "size": 961}
             ]
            }
           ]
          }
         ]
        },
        {
         "name": "Bacillales",
         "children": [
          {
           "name": "Paenibacillaceae",
           "children": [
            {
             "name": "Cohnella",
             "children": [
              {"name": "Unclassified Cohnella", "size": 3755}
             ]
            }
           ]
          }
         ]
        }
       ]
      },
      {
       "name": "Clostridia",
       "children": [
        {
         "name": "Clostridiales",
         "children": [
          {
           "name": "Veillonellaceae",
           "children": [
            {
             "name": "Veillonella",
             "children": [
              {"name": "parvula", "size": 25207},
              {"name": "dispar", "size": 22817},
              {"name": "atypica", "size": 9210},
              {"name": "Unclassified Veillonella", "size": 5391},
              {"name": "denticariosi", "size": 2315},
              {"name": "montpellierensis", "size": 1849}
             ]
            },
            {
             "name": "Selenomonas",
             "children": [
              {"name": "noxia", "size": 8966},
              {"name": "Unclassified Selenomonas", "size": 6786},
              {"name": "infelix", "size": 4731},
              {"name": "artemidis", "size": 3730}
             ]
            },
            {
             "name": "Dialister",
             "children": [
              {"name": "invisus", "size": 4417}
             ]
            },
            {
             "name": "Unclassified Veillonellaceae",
             "children": [
              {"name": "Unclassified Veillonellaceae", "size": 602}
             ]
            }
           ]
          },
          {
           "name": "Lachnospiraceae",
           "children": [
            {
             "name": "Butyrivibrio",
             "children": [
              {"name": "proteoclasticus", "size": 6929}
             ]
            },
            {
             "name": "Johnsonella",
             "children": [
              {"name": "ignava", "size": 3102}
             ]
            },
            {
             "name": "Catonella",
             "children": [
              {"name": "Unclassified Catonella", "size": 1430}
             ]
            },
            {
             "name": "Oribacterium",
             "children": [
              {"name": "Unclassified Oribacterium", "size": 1318}
             ]
            },
            {
             "name": "Moryella",
             "children": [
              {"name": "Unclassified Moryella", "size": 813}
             ]
            }
           ]
          },
          {
           "name": "Clostridiaceae",
           "children": [
            {
             "name": "Alkaliphilus",
             "children": [
              {"name": "crotonatoxidans", "size": 2323}
             ]
            },
            {
             "name": "Clostridium",
             "children": [
              {"name": "cadaveris", "size": 812},
              {"name": "Unclassified Clostridium", "size": 766}
             ]
            },
            {
             "name": "Mogibacterium",
             "children": [
              {"name": "timidum", "size": 599}
             ]
            }
           ]
          },
          {
           "name": "Unclassified Clostridiales",
           "children": [
            {
             "name": "Unclassified Clostridiales",
             "children": [
              {"name": "Unclassified Clostridiales", "size": 2212}
             ]
            }
           ]
          },
          {
           "name": "Peptostreptococcaceae",
           "children": [
            {
             "name": "Filifactor",
             "children": [
              {"name": "villosus", "size": 1654},
              {"name": "alocis", "size": 1100}
             ]
            },
            {
             "name": "Peptostreptococcus",
             "children": [
              {"name": "stomatis", "size": 891}
             ]
            }
           ]
          }
         ]
        },
        {
         "name": "Coriobacteriales",
         "children": [
          {
           "name": "Coriobacteriaceae",
           "children": [
            {
             "name": "Atopobium",
             "children": [
              {"name": "rimae", "size": 1545},
              {"name": "parvulum", "size": 1379}
             ]
            }
           ]
          }
         ]
        }
       ]
      },
      {
       "name": "Unclassified Firmicutes",
       "children": [
        {
         "name": "Unclassified Firmicutes",
         "children": [
          {
           "name": "Unclassified Firmicutes",
           "children": [
            {
             "name": "Unclassified Firmicutes",
             "children": [
              {"name": "Unclassified Firmicutes", "size": 969}
             ]
            }
           ]
          }
         ]
        }
       ]
      },
      {
       "name": "Erysipelotrichi",
       "children": [
        {
         "name": "Erysipelotrichales",
         "children": [
          {
           "name": "Erysipelotrichaceae",
           "children": [
            {
             "name": "Bulleidia",
             "children": [
              {"name": "moorei", "size": 873}
             ]
            }
           ]
          }
         ]
        }
       ]
      }
     ]
    },
    {
     "name": "Bacteroidetes",
     "children": [
      {
       "name": "Bacteroidia",
       "children": [
        {
         "name": "Bacteroidales",
         "children": [
          {
           "name": "Porphyromonadaceae",
           "children": [
            {
             "name": "Porphyromonas",
             "children": [
              {"name": "Unclassified Porphyromonas", "size": 33372},
              {"name": "gingivalis", "size": 9735},
              {"name": "catoniae", "size": 8614},
              {"name": "endodontalis", "size": 7127},
              {"name": "canis", "size": 836}
             ]
            },
            {
             "name": "Tannerella",
             "children": [
              {"name": "Unclassified Tannerella", "size": 7555}
             ]
            },
            {
             "name": "Dysgonomonas",
             "children": [
              {"name": "wimpennyi", "size": 3311}
             ]
            }
           ]
          },
          {
           "name": "Prevotellaceae",
           "children": [
            {
             "name": "Prevotella",
             "children": [
              {"name": "nigrescens", "size": 18276},
              {"name": "Unclassified Prevotella", "size": 14209},
              {"name": "loescheii", "size": 12740},
              {"name": "melaninogenica", "size": 8070},
              {"name": "intermedia", "size": 6746},
              {"name": "oris", "size": 6587},
              {"name": "multiformis", "size": 3358},
              {"name": "pleuritidis", "size": 2913},
              {"name": "oulorum", "size": 2426},
              {"name": "maculosa", "size": 1789},
              {"name": "veroralis", "size": 1543},
              {"name": "micans", "size": 1006},
              {"name": "oralis", "size": 839},
              {"name": "dentasini", "size": 763},
              {"name": "nanceiensis", "size": 640},
              {"name": "saccharolytica", "size": 628},
              {"name": "salivae", "size": 575}
             ]
            }
           ]
          },
          {
           "name": "Paraprevotellaceae",
           "children": [
            {
             "name": "Prevotella",
             "children": [
              {"name": "tannerae", "size": 10932},
              {"name": "Unclassified Prevotella", "size": 6173}
             ]
            }
           ]
          },
          {
           "name": "Bacteroidaceae",
           "children": [
            {
             "name": "Bacteroides",
             "children": [
              {"name": "Unclassified Bacteroides", "size": 813},
              {"name": "denticanum", "size": 688}
             ]
            }
           ]
          },
          {
           "name": "Unclassified Bacteroidales",
           "children": [
            {
             "name": "Unclassified Bacteroidales",
             "children": [
              {"name": "Unclassified Bacteroidales", "size": 808}
             ]
            }
           ]
          }
         ]
        }
       ]
      },
      {
       "name": "Flavobacteriia",
       "children": [
        {
         "name": "Flavobacteriales",
         "children": [
          {
           "name": "Flavobacteriaceae",
           "children": [
            {
             "name": "Capnocytophaga",
             "children": [
              {"name": "Unclassified Capnocytophaga", "size": 18044},
              {"name": "ochracea", "size": 6311},
              {"name": "gingivalis", "size": 2684},
              {"name": "leadbetteri", "size": 1154},
              {"name": "granulosa", "size": 628}
             ]
            },
            {
             "name": "Chryseobacterium",
             "children": [
              {"name": "Unclassified Chryseobacterium", "size": 1406},
              {"name": "taichungense", "size": 1364}
             ]
            },
            {
             "name": "Flavobacterium",
             "children": [
              {"name": "Unclassified Flavobacterium", "size": 1174}
             ]
            },
            {
             "name": "Unclassified Flavobacteriaceae",
             "children": [
              {"name": "Unclassified Flavobacteriaceae", "size": 838}
             ]
            },
            {
             "name": "Zhouia",
             "children": [
              {"name": "amylolytica", "size": 657}
             ]
            }
           ]
          }
         ]
        }
       ]
      },
      {
       "name": "Sphingobacteriia",
       "children": [
        {
         "name": "Sphingobacteriales",
         "children": [
          {
           "name": "Sphingobacteriaceae",
           "children": [
            {
             "name": "Sphingobacterium",
             "children": [
              {"name": "bambusae", "size": 1554}
             ]
            }
           ]
          }
         ]
        }
       ]
      },
      {
       "name": "Unclassified Bacteroidetes",
       "children": [
        {
         "name": "Unclassified Bacteroidetes",
         "children": [
          {
           "name": "Unclassified Bacteroidetes",
           "children": [
            {
             "name": "Unclassified Bacteroidetes",
             "children": [
              {"name": "Unclassified Bacteroidetes", "size": 1048}
             ]
            }
           ]
          }
         ]
        }
       ]
      }
     ]
    },
    {
     "name": "Proteobacteria",
     "children": [
      {
       "name": "Betaproteobacteria",
       "children": [
        {
         "name": "Neisseriales",
         "children": [
          {
           "name": "Neisseriaceae",
           "children": [
            {
             "name": "Neisseria",
             "children": [
              {"name": "Unclassified Neisseria", "size": 31641},
              {"name": "mucosa", "size": 9733},
              {"name": "lactamica", "size": 5121},
              {"name": "elongata", "size": 3193},
              {"name": "flavescens", "size": 994},
              {"name": "cinerea", "size": 566}
             ]
            },
            {
             "name": "Kingella",
             "children": [
              {"name": "oralis", "size": 3020}
             ]
            },
            {
             "name": "Conchiformibius",
             "children": [
              {"name": "kuhniae", "size": 2222}
             ]
            },
            {
             "name": "Unclassified Neisseriaceae",
             "children": [
              {"name": "Unclassified Neisseriaceae", "size": 1132}
             ]
            },
            {
             "name": "Eikenella",
             "children": [
              {"name": "corrodens", "size": 977}
             ]
            }
           ]
          }
         ]
        },
        {
         "name": "Burkholderiales",
         "children": [
          {
           "name": "Comamonadaceae",
           "children": [
            {
             "name": "Unclassified Comamonadaceae",
             "children": [
              {"name": "Unclassified Comamonadaceae", "size": 1048}
             ]
            },
            {
             "name": "Hylemonella",
             "children": [
              {"name": "Unclassified Hylemonella", "size": 746}
             ]
            }
           ]
          },
          {
           "name": "Burkholderiaceae",
           "children": [
            {
             "name": "Lautropia",
             "children": [
              {"name": "mirabilis", "size": 552},
              {"name": "Unclassified Lautropia", "size": 550}
             ]
            }
           ]
          }
         ]
        },
        {
         "name": "Unclassified Betaproteobacteria",
         "children": [
          {
           "name": "Unclassified Betaproteobacteria",
           "children": [
            {
             "name": "Unclassified Betaproteobacteria",
             "children": [
              {"name": "Unclassified Betaproteobacteria", "size": 542}
             ]
            }
           ]
          }
         ]
        }
       ]
      },
      {
       "name": "Gammaproteobacteria",
       "children": [
        {
         "name": "Pasteurellales",
         "children": [
          {
           "name": "Pasteurellaceae",
           "children": [
            {
             "name": "Haemophilus",
             "children": [
              {"name": "parainfluenzae", "size": 16470},
              {"name": "Unclassified Haemophilus", "size": 529}
             ]
            },
            {
             "name": "Aggregatibacter",
             "children": [
              {"name": "segnis", "size": 11618},
              {"name": "Unclassified Aggregatibacter", "size": 1683},
              {"name": "aphrophilus", "size": 1260}
             ]
            },
            {
             "name": "Mannheimia",
             "children": [
              {"name": "caviae", "size": 2334}
             ]
            },
            {
             "name": "Unclassified Pasteurellaceae",
             "children": [
              {"name": "Unclassified Pasteurellaceae", "size": 1576}
             ]
            },
            {
             "name": "Actinobacillus",
             "children": [
              {"name": "porcinus", "size": 600}
             ]
            },
            {
             "name": "Chelonobacter",
             "children": [
              {"name": "oris", "size": 544}
             ]
            }
           ]
          }
         ]
        },
        {
         "name": "Enterobacteriales",
         "children": [
          {
           "name": "Enterobacteriaceae",
           "children": [
            {
             "name": "Candidatus Blochmannia",
             "children": [
              {"name": "rufipes", "size": 5374}
             ]
            }
           ]
          }
         ]
        },
        {
         "name": "Cardiobacteriales",
         "children": [
          {
           "name": "Cardiobacteriaceae",
           "children": [
            {
             "name": "Cardiobacterium",
             "children": [
              {"name": "hominis", "size": 2741},
              {"name": "Unclassified Cardiobacterium", "size": 2660},
              {"name": "valvarum", "size": 1965}
             ]
            }
           ]
          }
         ]
        }
       ]
      },
      {
       "name": "Epsilonproteobacteria",
       "children": [
        {
         "name": "Campylobacterales",
         "children": [
          {
           "name": "Campylobacteraceae",
           "children": [
            {
             "name": "Campylobacter",
             "children": [
              {"name": "gracilis", "size": 8132},
              {"name": "Unclassified Campylobacter", "size": 6764},
              {"name": "showae", "size": 4368},
              {"name": "concisus", "size": 2171},
              {"name": "curvus", "size": 556}
             ]
            }
           ]
          }
         ]
        }
       ]
      },
      {
       "name": "Unclassified Proteobacteria",
       "children": [
        {
         "name": "Unclassified Proteobacteria",
         "children": [
          {
           "name": "Unclassified Proteobacteria",
           "children": [
            {
             "name": "Unclassified Proteobacteria",
             "children": [
              {"name": "Unclassified Proteobacteria", "size": 1393}
             ]
            }
           ]
          }
         ]
        }
       ]
      }
     ]
    },
    {
     "name": "Actinobacteria",
     "children": [
      {
       "name": "Actinobacteria",
       "children": [
        {
         "name": "Actinomycetales",
         "children": [
          {
           "name": "Corynebacteriaceae",
           "children": [
            {
             "name": "Corynebacterium",
             "children": [
              {"name": "matruchotii", "size": 14967},
              {"name": "durum", "size": 1732},
              {"name": "Unclassified Corynebacterium", "size": 763}
             ]
            }
           ]
          },
          {
           "name": "Actinomycetaceae",
           "children": [
            {
             "name": "Parascardovia",
             "children": [
              {"name": "Unclassified Parascardovia", "size": 13385}
             ]
            },
            {
             "name": "Actinomyces",
             "children": [
              {"name": "meyeri", "size": 2063},
              {"name": "Unclassified Actinomyces", "size": 1254}
             ]
            }
           ]
          },
          {
           "name": "Micrococcaceae",
           "children": [
            {
             "name": "Rothia",
             "children": [
              {"name": "dentocariosa", "size": 6455},
              {"name": "Unclassified Rothia", "size": 2622},
              {"name": "aeria", "size": 1371}
             ]
            }
           ]
          },
          {
           "name": "Unclassified Actinomycetales",
           "children": [
            {
             "name": "Unclassified Actinomycetales",
             "children": [
              {"name": "Unclassified Actinomycetales", "size": 2486}
             ]
            }
           ]
          }
         ]
        },
        {
         "name": "Bifidobacteriales",
         "children": [
          {
           "name": "Bifidobacteriaceae",
           "children": [
            {
             "name": "Bifidobacterium",
             "children": [
              {"name": "scardovii", "size": 628}
             ]
            }
           ]
          }
         ]
        }
       ]
      }
     ]
    },
    {
     "name": "Spirochaetes",
     "children": [
      {
       "name": "Spirochaetes",
       "children": [
        {
         "name": "Spirochaetales",
         "children": [
          {
           "name": "Spirochaetaceae",
           "children": [
            {
             "name": "Treponema",
             "children": [
              {"name": "medium", "size": 7099},
              {"name": "socranskii", "size": 3479},
              {"name": "denticola", "size": 2397},
              {"name": "amylovorum", "size": 1562},
              {"name": "succinifaciens", "size": 1261},
              {"name": "lecithinolyticum", "size": 1225},
              {"name": "Unclassified Treponema", "size": 593}
             ]
            }
           ]
          }
         ]
        }
       ]
      }
     ]
    },
    {
     "name": "Unclassified Bacteria",
     "children": [
      {
       "name": "Unclassified Bacteria",
       "children": [
        {
         "name": "Unclassified Bacteria",
         "children": [
          {
           "name": "Unclassified Bacteria",
           "children": [
            {
             "name": "Unclassified Bacteria",
             "children": [
              {"name": "Unclassified Bacteria", "size": 6228}
             ]
            }
           ]
          }
         ]
        }
       ]
      }
     ]
    },
    {
     "name": "Synergistetes",
     "children": [
      {
       "name": "Synergistia",
       "children": [
        {
         "name": "Synergistales",
         "children": [
          {
           "name": "Synergistaceae",
           "children": [
            {
             "name": "Candidatus Tammella",
             "children": [
              {"name": "caduceiae", "size": 2828}
             ]
            }
           ]
          }
         ]
        }
       ]
      }
     ]
    },
    {
     "name": "Verrucomicrobia",
     "children": [
      {
       "name": "Opitutae",
       "children": [
        {
         "name": "Pelagicoccales",
         "children": [
          {
           "name": "Pelagicoccaceae",
           "children": [
            {
             "name": "Pelagicoccus",
             "children": [
              {"name": "Unclassified Pelagicoccus", "size": 1033}
             ]
            }
           ]
          }
         ]
        }
       ]
      }
     ]
    }
   ]
  }
]

;
var classif_json =
[
  {level: "Kingdom", class: "86.136%" , unclass: "13.864%"},
  {level: "Phylum", class: "84.928%" , unclass: "15.072%"},
  {level: "Class", class: "82.490%" , unclass: "17.510%"},
  {level: "Order", class: "81.599%" , unclass: "18.401%"},
  {level: "Family", class: "80.651%" , unclass: "19.349%"},
  {level: "Genus", class: "78.324%" , unclass: "21.676%"},
  {level: "Species", class: "59.349%" , unclass: "40.651%"}
]
;
</script>
<script>drawSun();</script>
<script>drawCol();</script>
<script>drawClassifSummaryTable();</script>
